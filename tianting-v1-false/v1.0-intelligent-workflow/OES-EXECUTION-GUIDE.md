# å¤©åº­ç³»ç»ŸOESä»»åŠ¡æ‰§è¡ŒæŒ‡å—

## ğŸ¯ æ€»è§ˆ

æœ¬æ–‡æ¡£æ˜¯å¤©åº­AIé¡¹ç›®è§„åˆ’ç³»ç»Ÿçš„å®Œæ•´å¼€å‘æŒ‡å—ï¼ŒåŸºäºOES (Object-Entity-System) æ–¹æ³•è®ºè®¾è®¡ï¼Œæ”¯æŒçœŸæ­£çš„å¹¶å‘å¼€å‘ã€‚

### ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
å¤©åº­MVPç³»ç»Ÿ
â”œâ”€â”€ packages/shared/          # å…±äº«ç±»å‹å®šä¹‰ (æ‰€æœ‰åŒ…çš„åŸºç¡€)
â”œâ”€â”€ packages/core/            # ä¸šåŠ¡é€»è¾‘å±‚ (AIæœåŠ¡ã€éœ€æ±‚è§£æã€é¡¹ç›®è§„åˆ’)
â”œâ”€â”€ packages/api/             # HTTP APIå±‚ (FastAPIæœåŠ¡)
â”œâ”€â”€ packages/frontend/        # ç”¨æˆ·ç•Œé¢å±‚ (Reactåº”ç”¨)
â”œâ”€â”€ packages/integration/     # è·¨åŒ…é›†æˆæµ‹è¯•
â””â”€â”€ packages/validation/      # æœ€ç»ˆç³»ç»ŸéªŒè¯
```

### ğŸš€ å¹¶å‘å¼€å‘èƒ½åŠ›

âœ… **çœŸæ­£çš„å¹¶å‘å¼€å‘**: æ¯ä¸ªåŒ…å¯ä»¥åœ¨ç‹¬ç«‹çš„Claude Codeçª—å£ä¸­å¹¶å‘å¼€å‘  
âœ… **ç¯å¢ƒéš”ç¦»**: æ¯ä¸ªåŒ…æœ‰ç‹¬ç«‹çš„æ•°æ®åº“ã€ç«¯å£ã€Dockerç¯å¢ƒ  
âœ… **æ¥å£å¥‘çº¦**: åŸºäºsharedåŒ…çš„ç±»å‹å®šä¹‰ï¼ŒåŒ…é—´é€šè¿‡æ¥å£åä½œ  
âœ… **MockæœåŠ¡**: å‰ç«¯å¯ä»¥åŸºäºMock APIå®Œå…¨ç‹¬ç«‹å¼€å‘  

## ğŸ“‹ å¼€å‘é˜¶æ®µå’Œä»»åŠ¡åˆ†å¸ƒ

### Stage 0: åŸºç¡€è®¾æ–½ (Foundation)
**å¯å¹¶å‘æ‰§è¡Œçš„åŒ…**: shared, core, api, frontend

| åŒ…å | ä»»åŠ¡æ–‡ä»¶ | è´Ÿè´£å†…å®¹ | ç«¯å£ | æ•°æ®åº“ |
|------|----------|----------|------|--------|
| shared | `packages/shared/tasks/type-definitions-01-base.task.md` | TypeScriptç±»å‹å®šä¹‰ | N/A | N/A |
| core | `packages/core/tasks/requirement-parsing-01-base.task.md` | éœ€æ±‚è§£æå™¨ | 8001 | tianting_core_dev |
| core | `packages/core/tasks/project-planning-01-base.task.md` | é¡¹ç›®è§„åˆ’å™¨ | 8001 | tianting_core_dev |
| api | `packages/api/tasks/server-framework-01-base.task.md` | FastAPIæ¡†æ¶ | 8002 | tianting_api_dev |
| api | `packages/api/tasks/requirement-endpoints-01-base.task.md` | éœ€æ±‚ç®¡ç†API | 8002 | tianting_api_dev |
| frontend | `packages/frontend/tasks/ui-components-01-base.task.md` | åŸºç¡€UIç»„ä»¶ | 3001 | N/A |
| frontend | `packages/frontend/tasks/page-components-01-base.task.md` | é¡µé¢ç»„ä»¶å’Œè·¯ç”± | 3001 | N/A |

### Stage 1: é›†æˆéªŒè¯ (Integration)
**ä¾èµ–**: Stage 0 æ‰€æœ‰åŸºç¡€ä»»åŠ¡å®Œæˆ

| åŒ…å | ä»»åŠ¡æ–‡ä»¶ | è´Ÿè´£å†…å®¹ |
|------|----------|----------|
| core | `packages/core/tasks/core-integration-01-integration.task.md` | CoreåŒ…å†…éƒ¨é›†æˆ |
| integration | `packages/integration/tasks/end-to-end-workflow-01-integration.task.md` | è·¨åŒ…é›†æˆæµ‹è¯• |

### Stage 2: æœ€ç»ˆéªŒè¯ (Validation)
**ä¾èµ–**: Stage 1 é›†æˆä»»åŠ¡å®Œæˆ

| åŒ…å | ä»»åŠ¡æ–‡ä»¶ | è´Ÿè´£å†…å®¹ |
|------|----------|----------|
| validation | `packages/validation/tasks/system-validation-01-final.task.md` | ç³»ç»Ÿæœ€ç»ˆéªŒè¯å’Œå‘å¸ƒå‡†å¤‡ |

## ğŸ”§ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd tianting-mvp

# å¯åŠ¨åŸºç¡€æœåŠ¡ (Docker)
docker-compose -f packages/common/environments/docker-compose.dev.yml up -d

# éªŒè¯æœåŠ¡çŠ¶æ€
curl http://localhost:5432  # PostgreSQL
curl http://localhost:6379  # Redis
```

### 2. é€‰æ‹©å¼€å‘åŒ…

æ ¹æ®å›¢é˜Ÿåˆ†å·¥ï¼Œé€‰æ‹©ä¸€ä¸ªåŒ…è¿›è¡Œå¼€å‘ï¼š

```bash
# ç¤ºä¾‹ï¼šå¼€å‘coreåŒ…
cd packages/core
```

### 3. æ‰§è¡Œä»»åŠ¡

åœ¨æ–°çš„Claude Codeçª—å£ä¸­æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

1. **é˜…è¯»ä»»åŠ¡æ–‡ä»¶**: å®Œæ•´é˜…è¯»å¯¹åº”çš„`.task.md`æ–‡ä»¶
2. **å®£èª“æ‰§è¡Œ**: æŒ‰ä»»åŠ¡è¦æ±‚å®£èª“æ¥å—AIæ‰§è¡Œèª“è¯
3. **ç¯å¢ƒåˆ†æ**: è¯¦ç»†åˆ†æä»»åŠ¡ç¯å¢ƒå’Œä¾èµ–
4. **ç›®æ ‡åˆ†æ**: ç†è§£ä»»åŠ¡ç›®æ ‡å’Œè¾¹ç•Œ
5. **å®æ–½å¼€å‘**: æŒ‰ç…§å®ç°æŒ‡å¯¼è¿›è¡Œå¼€å‘
6. **éªŒè¯æµ‹è¯•**: è¿è¡Œæµ‹è¯•ç¡®ä¿ä»»åŠ¡å®Œæˆ

### 4. å…¸å‹æ‰§è¡Œç¤ºä¾‹

```
Claudeå¼€å‘è€…: æˆ‘å·²é˜…è¯»å¹¶æ¥å—AIæ‰§è¡Œèª“è¯ï¼Œç°åœ¨å¼€å§‹æŒ‰è§„èŒƒæ‰§è¡Œä»»åŠ¡

ç¯å¢ƒåˆ†æå®Œæˆï¼š
- å‚è€ƒäº†packages/shared/src/types/domain.tsä¸­çš„RequirementModelå®šä¹‰
- ç¡®è®¤coreåŒ…æœåŠ¡ç«¯å£ä¸º8001
- äº†è§£äº†ä¾èµ–sharedåŒ…çš„ç±»å‹å®šä¹‰
- æ˜ç¡®äº†ä¸åŒ…å«APIè·¯ç”±å±‚çš„ä»»åŠ¡è¾¹ç•Œ

ç›®æ ‡åˆ†æå®Œæˆï¼š
- ç›®æ ‡æ˜¯å®ç°RequirementParserç±»
- éœ€è¦ä½¿ç”¨æœ¬åœ°AIèƒ½åŠ›è¿›è¡Œéœ€æ±‚è§£æ
- è¾“å‡ºæ ¼å¼å¿…é¡»ç¬¦åˆRequirementModel
- æ€§èƒ½è¦æ±‚æ˜¯30ç§’å†…å®Œæˆè§£æ

ç°åœ¨åˆ¶å®šå®ç°è®¡åˆ’...
```

## ğŸ”„ å¹¶å‘å¼€å‘åè°ƒ

### åŒ…é—´ä¾èµ–å…³ç³»

```mermaid
graph TD
    A[shared] --> B[core]
    A --> C[api]
    A --> D[frontend]
    B --> C
    C --> D
    B --> E[integration]
    C --> E
    D --> E
    E --> F[validation]
```

### å¼€å‘é¡ºåºå»ºè®®

1. **ä¼˜å…ˆçº§1**: `shared` - æ‰€æœ‰åŒ…çš„åŸºç¡€
2. **ä¼˜å…ˆçº§2**: `core`, `api`, `frontend` - å¯å¹¶å‘å¼€å‘
3. **ä¼˜å…ˆçº§3**: `integration` - éœ€è¦åŸºç¡€åŒ…å®Œæˆ
4. **ä¼˜å…ˆçº§4**: `validation` - æœ€ç»ˆéªŒè¯

### åè°ƒæœºåˆ¶

- **æ¥å£å¥‘çº¦**: åŸºäº`packages/common/contracts/api-contracts.md`
- **ç±»å‹å®‰å…¨**: åŸºäºsharedåŒ…çš„TypeScriptå®šä¹‰
- **MockæœåŠ¡**: å‰ç«¯ä½¿ç”¨Mock APIç‹¬ç«‹å¼€å‘
- **ç¯å¢ƒéš”ç¦»**: æ¯ä¸ªåŒ…ç‹¬ç«‹çš„æ•°æ®åº“å’Œç«¯å£

## ğŸ“Š è´¨é‡ä¿è¯

### æµ‹è¯•è¦†ç›–ç‡è¦æ±‚
- **å•å…ƒæµ‹è¯•**: â‰¥80%
- **é›†æˆæµ‹è¯•**: â‰¥90% 
- **ç«¯åˆ°ç«¯æµ‹è¯•**: è¦†ç›–ä¸»è¦ç”¨æˆ·æµç¨‹

### æ€§èƒ½æŒ‡æ ‡
- **éœ€æ±‚è§£æ**: <30ç§’
- **APIå“åº”**: <100ms
- **é¡µé¢åŠ è½½**: <2ç§’
- **ç³»ç»Ÿå¯ç”¨æ€§**: â‰¥99.9%

### ä»£ç è´¨é‡
- **TypeScript**: ä¸¥æ ¼ç±»å‹æ£€æŸ¥
- **ESLint**: æ— é”™è¯¯çº§åˆ«é—®é¢˜
- **Prettier**: ç»Ÿä¸€ä»£ç æ ¼å¼
- **æµ‹è¯•**: æ‰€æœ‰æµ‹è¯•é€šè¿‡

## ğŸ› ï¸ å¼€å‘å·¥å…·

### å¿…éœ€å·¥å…·
- **Node.js**: 18+
- **Python**: 3.11+
- **Docker**: 24+
- **Git**: 2.40+

### æ¨èIDE
- **VS Code**: ç»Ÿä¸€å¼€å‘ç¯å¢ƒ
- **Extensions**: TypeScript, Python, Docker, Prettier

### è°ƒè¯•å·¥å…·
- **React DevTools**: å‰ç«¯è°ƒè¯•
- **Postman**: APIæµ‹è¯•
- **pgAdmin**: æ•°æ®åº“ç®¡ç†
- **Redis Commander**: Redisç®¡ç†

## ğŸ“ æ–‡ä»¶ç»“æ„è¯´æ˜

```
packages/
â”œâ”€â”€ shared/                    # å…±äº«ç±»å‹å’Œå·¥å…·
â”‚   â”œâ”€â”€ src/types/            # TypeScriptç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ tests/                # ç±»å‹æµ‹è¯•
â”‚   â””â”€â”€ tasks/                # sharedåŒ…ä»»åŠ¡
â”œâ”€â”€ core/                     # ä¸šåŠ¡é€»è¾‘æ ¸å¿ƒ
â”‚   â”œâ”€â”€ src/                  # Pythonä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ tests/                # å•å…ƒæµ‹è¯•
â”‚   â””â”€â”€ tasks/                # coreåŒ…ä»»åŠ¡
â”œâ”€â”€ api/                      # FastAPIæœåŠ¡
â”‚   â”œâ”€â”€ src/                  # APIå®ç°
â”‚   â”œâ”€â”€ tests/                # APIæµ‹è¯•
â”‚   â””â”€â”€ tasks/                # apiåŒ…ä»»åŠ¡
â”œâ”€â”€ frontend/                 # Reactå‰ç«¯
â”‚   â”œâ”€â”€ src/                  # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ tests/                # å‰ç«¯æµ‹è¯•
â”‚   â””â”€â”€ tasks/                # frontendåŒ…ä»»åŠ¡
â”œâ”€â”€ integration/              # é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ tests/                # è·¨åŒ…æµ‹è¯•
â”‚   â””â”€â”€ tasks/                # é›†æˆä»»åŠ¡
â”œâ”€â”€ validation/               # æœ€ç»ˆéªŒè¯
â”‚   â”œâ”€â”€ tests/                # éªŒæ”¶æµ‹è¯•
â”‚   â””â”€â”€ tasks/                # éªŒè¯ä»»åŠ¡
â””â”€â”€ common/                   # å…¬å…±é…ç½®
    â”œâ”€â”€ contracts/            # æ¥å£å¥‘çº¦
    â”œâ”€â”€ environments/         # ç¯å¢ƒé…ç½®
    â””â”€â”€ guides/               # å¼€å‘æŒ‡å—
```

## ğŸš¨ é‡è¦æ³¨æ„äº‹é¡¹

### 1. ä»»åŠ¡æ‰§è¡Œè§„èŒƒ
- **å¿…é¡»å®£èª“**: æ¯ä¸ªä»»åŠ¡å¼€å§‹å‰å¿…é¡»å®£èª“æ¥å—AIæ‰§è¡Œèª“è¯
- **é¡ºåºæ‰§è¡Œ**: ä¸¥æ ¼æŒ‰ç…§"ç¯å¢ƒåˆ†æ â†’ ç›®æ ‡åˆ†æ â†’ å®æ–½"çš„é¡ºåº
- **æµ‹è¯•ä¼˜å…ˆ**: å®ç°åŠŸèƒ½çš„åŒæ—¶ç¡®ä¿æµ‹è¯•é€šè¿‡
- **æ–‡æ¡£åŒæ­¥**: ä»£ç å®ç°çš„åŒæ—¶æ›´æ–°ç›¸å…³æ–‡æ¡£

### 2. å¹¶å‘å¼€å‘å†²çªé¿å…
- **æ–‡ä»¶è¾¹ç•Œ**: ä¸¥æ ¼æŒ‰ç…§åŒ…è¾¹ç•Œåˆ†å·¥ï¼Œé¿å…ä¿®æ”¹å…¶ä»–åŒ…æ–‡ä»¶
- **æ¥å£ç¨³å®š**: sharedåŒ…çš„ç±»å‹å®šä¹‰ç¡®å®šåé¿å…é¢‘ç¹ä¿®æ”¹
- **æ•°æ®åº“éš”ç¦»**: æ¯ä¸ªåŒ…ä½¿ç”¨ç‹¬ç«‹çš„æ•°æ®åº“
- **ç«¯å£åˆ†é…**: ä¸¥æ ¼æŒ‰ç…§åˆ†é…çš„ç«¯å£è¿è¡ŒæœåŠ¡

### 3. ä»£ç è´¨é‡æ ‡å‡†
- **ç±»å‹å®‰å…¨**: æ‰€æœ‰ä»£ç å¿…é¡»é€šè¿‡TypeScriptç±»å‹æ£€æŸ¥
- **æµ‹è¯•è¦†ç›–**: æ–°å¢ä»£ç å¿…é¡»æœ‰å¯¹åº”æµ‹è¯•
- **ä»£ç å®¡æŸ¥**: æäº¤å‰è¿›è¡Œè‡ªæˆ‘ä»£ç å®¡æŸ¥
- **æ–‡æ¡£æ›´æ–°**: é‡è¦åŠŸèƒ½å¿…é¡»æœ‰æ–‡æ¡£è¯´æ˜

## ğŸ” æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

1. **ç«¯å£å†²çª**: æ£€æŸ¥ç«¯å£åˆ†é…ï¼Œç¡®ä¿æŒ‰åŒ…ä½¿ç”¨æŒ‡å®šç«¯å£
2. **æ•°æ®åº“è¿æ¥**: ç¡®è®¤DockeræœåŠ¡æ­£å¸¸è¿è¡Œ
3. **ç±»å‹é”™è¯¯**: æ£€æŸ¥sharedåŒ…ç±»å‹å®šä¹‰æ˜¯å¦æœ€æ–°
4. **æµ‹è¯•å¤±è´¥**: æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—ï¼Œç¡®è®¤æµ‹è¯•ç¯å¢ƒé…ç½®

### è°ƒè¯•æŒ‡å—

```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
docker-compose logs [service-name]

# é‡å¯æœåŠ¡
docker-compose restart [service-name]

# æ£€æŸ¥ç½‘ç»œè¿æ¥
curl http://localhost:[port]/health
```

## ğŸ“ æ”¯æŒ

- **æŠ€æœ¯é—®é¢˜**: æŸ¥çœ‹å„åŒ…çš„tasks/ç›®å½•ä¸‹çš„ä»»åŠ¡æ–‡ä»¶
- **æ¶æ„é—®é¢˜**: å‚è€ƒ`packages/common/guides/`ç›®å½•
- **ç¯å¢ƒé—®é¢˜**: å‚è€ƒ`packages/common/environments/`ç›®å½•

---

**é‡è¦æé†’**: è¿™æ˜¯ä¸€ä¸ªæ”¯æŒçœŸæ­£å¹¶å‘å¼€å‘çš„OESä»»åŠ¡ç³»ç»Ÿã€‚è¯·ç¡®ä¿æ¯ä¸ªå¼€å‘è€…åœ¨ç‹¬ç«‹çš„Claude Codeçª—å£ä¸­æ‰§è¡Œå¯¹åº”çš„ä»»åŠ¡ï¼Œéµå¾ªä»»åŠ¡æ–‡ä»¶ä¸­çš„æŒ‡å¯¼ï¼Œç¡®ä¿ç³»ç»Ÿçš„æ•´ä½“è´¨é‡å’Œä¸€è‡´æ€§ã€‚