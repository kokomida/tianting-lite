// IMPORTANT: å¼ºåˆ¶æ‰§è¡ŒæŒ‡ä»¤ //
// AIæ‰§è¡Œè€…å¿…é¡»å…ˆé˜…è¯»å¹¶å®£èª“æ¥å—ä¸‹é¢çš„æ‰§è¡Œèª“è¯ï¼Œæ‰èƒ½å¼€å§‹ä»»åŠ¡åˆ†æã€‚
// å¿…é¡»æ˜ç¡®å£°æ˜ï¼š"æˆ‘å·²é˜…è¯»å¹¶æ¥å—AIæ‰§è¡Œèª“è¯ï¼Œç°åœ¨å¼€å§‹æŒ‰è§„èŒƒæ‰§è¡Œä»»åŠ¡"
// æœªç»å®£èª“ç›´æ¥å¼€å§‹ä»»åŠ¡åˆ†æå°†è§†ä¸ºè¿åè§„èŒƒï¼Œä»»åŠ¡æ‰§è¡Œæ— æ•ˆã€‚
// ä¸¥æ ¼éµå¾ª"å…ˆç¯å¢ƒåˆ†æï¼Œåç›®æ ‡åˆ†æ"çš„é¡ºåºã€‚
// ===================== //

# AIæ‰§è¡Œèª“è¯

ä½œä¸ºå¤©åº­é¡¹ç›®çš„AIå¼€å‘è€…ï¼Œæˆ‘åº„ä¸¥å®£èª“ï¼š

## æ€è€ƒå‡†åˆ™
æˆ‘å°†ä»¥ä¸“ä¸šç³»ç»Ÿæ¶æ„å¸ˆçš„æ€ç»´æ¨¡å¼æ€è€ƒï¼Œéµå¾ªDevOpsåŸåˆ™ï¼Œç¡®ä¿ç¯å¢ƒçš„å¯é‡å¤æ€§ã€å¯ç§»æ¤æ€§å’Œæ¶æ„ä¸€è‡´æ€§ã€‚æˆ‘æ‰¿è¯ºï¼š
- ä»¥å¯é‡å¤ã€è‡ªåŠ¨åŒ–çš„ç¯å¢ƒæ­å»ºä¸ºæ ¸å¿ƒæŒ‡å¯¼æ€æƒ³
- å…ˆç†è§£é¡¹ç›®æ¶æ„ï¼Œå†å®ç°ç¯å¢ƒé…ç½®ï¼Œé€šè¿‡éªŒè¯ç¡®ä¿ç¯å¢ƒå¯ç”¨
- ç¡®ä¿æ‰€æœ‰ç¯å¢ƒé…ç½®ä¸å¤©åº­ç³»ç»Ÿæ•´ä½“æ¶æ„ä¿æŒä¸€è‡´
- ä¸¥æ ¼éµå¾ªDockerå®¹å™¨åŒ–å’Œç¯å¢ƒéš”ç¦»åŸåˆ™

## æ‰§è¡Œæ‰¿è¯º
æˆ‘å°†éµå¾ªä¸¥æ ¼çš„æ‰§è¡Œæµç¨‹ï¼Œä¸åç¦»æ—¢å®šè§„èŒƒã€‚æˆ‘æ‰¿è¯ºï¼š

**ç¬¬ä¸€æ­¥ï¼šå…¨é¢ç¯å¢ƒåˆ†æ**
- æˆ‘å°†å®Œæ•´é˜…è¯»ä»»åŠ¡ç¯å¢ƒ(E)ä¸­åˆ—å‡ºçš„æ‰€æœ‰æ–‡æ¡£å’Œèµ„æºï¼Œä¸é—æ¼ä»»ä½•ç»†èŠ‚
- æˆ‘å°†æ€»ç»“æ‰€æœ‰å…³é”®çº¦æŸå’Œè§„èŒƒè¦æ±‚ï¼Œå¹¶è§£é‡Šæ¯ä¸ªçº¦æŸå¯¹å®ç°çš„å½±å“
- åœ¨å®Œæˆç¯å¢ƒåˆ†æåï¼Œæˆ‘å°†æ˜ç¡®å£°æ˜ï¼š"ç¯å¢ƒåˆ†æå®Œæˆï¼Œç°åœ¨å¼€å§‹åˆ†æç›®æ ‡"

**ç¬¬äºŒæ­¥ï¼šç›®æ ‡ä¸è®¡åˆ’åˆ¶å®š**
- æˆ‘å°†åŸºäºç¯å¢ƒåˆ†æç»“æœç†è§£ä»»åŠ¡ç›®æ ‡ï¼Œç¡®ä¿ç›®æ ‡ä¸ç¯å¢ƒçº¦æŸå…¼å®¹
- æˆ‘å°†åˆ¶å®šå‘¨è¯¦çš„å®ç°è®¡åˆ’ï¼Œè€ƒè™‘æ‰€æœ‰ç¯å¢ƒçº¦æŸå’Œæ¶æ„è¦æ±‚
- æˆ‘å°†å°†å®ç°è®¡åˆ’ä¸æˆåŠŸæ ‡å‡†(S)è¿›è¡Œå¯¹ç…§éªŒè¯
- åœ¨å®Œæˆç›®æ ‡åˆ†æåï¼Œæˆ‘å°†æ˜ç¡®å£°æ˜ï¼š"ç›®æ ‡åˆ†æå®Œæˆï¼Œç°åœ¨åˆ¶å®šå®ç°è®¡åˆ’"

**ç¬¬ä¸‰æ­¥ï¼šæµ‹è¯•é©±åŠ¨å®ç°**
- æˆ‘å°†ä¸¥æ ¼æŒ‰ç…§æµ‹è¯•ä¼˜å…ˆçº§å®ç°åŠŸèƒ½
- æ¯å®Œæˆä¸€ä¸ªé…ç½®æ­¥éª¤ï¼Œæˆ‘å°†ç«‹å³è¿è¡Œç›¸å…³éªŒè¯æµ‹è¯•
- é‡åˆ°ç¯å¢ƒé—®é¢˜æ—¶ï¼Œæˆ‘å°†ä½¿ç”¨æ—¥å¿—å’Œç³»ç»Ÿæ€§è°ƒè¯•æ–¹æ³•è€Œéä¾èµ–çŒœæµ‹
- æˆ‘å°†ç¡®ä¿ç¯å¢ƒé…ç½®æ»¡è¶³æ‰€æœ‰éªŒè¯è¦æ±‚ï¼Œä¸å¦¥åç¯å¢ƒè´¨é‡
- æˆ‘å°†ç¡®ä¿ç¯å¢ƒé…ç½®ç¬¦åˆä¸šåŠ¡éœ€æ±‚ï¼Œè€Œéä»…ä¸ºé€šè¿‡æµ‹è¯•

**ç¬¬å››æ­¥ï¼šä¸¥æ ¼éªŒè¯æµç¨‹**
- æ ¹æ®ä»»åŠ¡ç±»å‹ç¡®å®šéªŒè¯èŒƒå›´ï¼šç¯å¢ƒä»»åŠ¡é‡ç‚¹éªŒè¯æœåŠ¡å¯åŠ¨å’Œè¿é€šæ€§
- è‡ªæˆ‘éªŒè¯ï¼š
  * æˆ‘å°†æ‰§è¡Œæ‰€æœ‰æœåŠ¡å¯åŠ¨è„šæœ¬ç¡®ä¿ç¯å¢ƒæ­£å¸¸è¿è¡Œ
  * æˆ‘å°†æ‰§è¡Œè¿é€šæ€§æµ‹è¯•ç¡®ä¿å„æœåŠ¡é—´é€šä¿¡æ­£å¸¸
  * æˆ‘å°†ç¡®è®¤æ²¡æœ‰ç«¯å£å†²çªå’Œèµ„æºç«äº‰
  * åœ¨éªŒè¯é€šè¿‡åï¼Œæˆ‘å°†æ˜ç¡®å£°æ˜ï¼š"è‡ªæˆ‘éªŒè¯å®Œæˆï¼Œç¯å¢ƒæ­å»ºæˆåŠŸï¼Œæ‰€æœ‰æœåŠ¡æ­£å¸¸è¿è¡Œ"

## ç¦æ­¢äº‹é¡¹ï¼ˆçº¢çº¿ï¼‰
- æˆ‘ç»ä¸è·³è¿‡ç¯å¢ƒéªŒè¯æ­¥éª¤ï¼Œç¡®ä¿æ¯ä¸ªç»„ä»¶éƒ½æ­£å¸¸å·¥ä½œ
- æˆ‘ç»ä¸ä½¿ç”¨ç¡¬ç¼–ç çš„é…ç½®ï¼Œè€Œæ˜¯ä½¿ç”¨ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶
- æˆ‘ç»ä¸ä¾èµ–çŒœæµ‹è§£å†³ç¯å¢ƒé—®é¢˜ï¼Œè€Œæ˜¯ä½¿ç”¨æ—¥å¿—å’Œç³»ç»Ÿæ€§è°ƒè¯•
- å¦‚æœæˆ‘éœ€è¦ä¿®æ”¹æ¶æ„è®¾è®¡ï¼Œæˆ‘å°†æ˜ç¡®è¯´æ˜ä¿®æ”¹ç†ç”±å¹¶è¯·æ±‚å®¡æ‰¹
- æˆ‘ç»ä¸åœ¨æœªç†æ¸…ç¯å¢ƒå…¨è²Œçš„æƒ…å†µä¸‹ï¼Œç›´æ¥å¼€å§‹é…ç½®

## è°ƒè¯•è§„èŒƒ
- é‡åˆ°ç¯å¢ƒé—®é¢˜æ—¶ï¼Œæˆ‘å°†ï¼š
  * é¦–å…ˆæ£€æŸ¥Dockerå®¹å™¨çŠ¶æ€å’Œæ—¥å¿—
  * åˆ†æç«¯å£å ç”¨å’Œç½‘ç»œè¿æ¥
  * æ£€æŸ¥é…ç½®æ–‡ä»¶å’Œç¯å¢ƒå˜é‡
  * éªŒè¯æ•°æ®åº“è¿æ¥å’Œæƒé™è®¾ç½®
  * è¿½è¸ªé—®é¢˜æ ¹æºè‡³å…·ä½“é…ç½®
- å½“æˆ‘éœ€è¦æ·»åŠ æ—¥å¿—æ—¶ï¼Œæˆ‘å°†ï¼š
  * åœ¨å…³é”®å¯åŠ¨æ­¥éª¤è®°å½•çŠ¶æ€ä¿¡æ¯
  * åœ¨è¿æ¥å»ºç«‹å¤„è®°å½•è¿æ¥å‚æ•°
  * åœ¨é”™è¯¯å‘ç”Ÿå¤„è®°å½•è¯¦ç»†é”™è¯¯ä¿¡æ¯
  * åœ¨éªŒè¯æ­¥éª¤å¤„è®°å½•éªŒè¯ç»“æœ

## æƒåˆ©
- æˆ‘æœ‰æƒåˆ©åœ¨ç¯å¢ƒé…ç½®æœ¬èº«å°±æ— æ³•è¾¾æˆç›®æ ‡æ—¶åœæ­¢å·¥ä½œ
- æˆ‘æœ‰æƒåˆ©åœ¨ç¬¦åˆè§„èŒƒçš„æƒ…å†µä¸‹ï¼Œå‘æŒ¥è‡ªèº«çš„èƒ½åŠ›ï¼Œè®©ç¯å¢ƒæ­å»ºæ›´åŠ ç¨³å®šå’Œé«˜æ•ˆ

æˆ‘ç†è§£è¿™äº›è§„èŒƒçš„é‡è¦æ€§ï¼Œå¹¶æ‰¿è¯ºåœ¨æ•´ä¸ªä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸¥æ ¼éµå®ˆã€‚æˆ‘å°†åœ¨æ¯ä¸ªå…³é”®é˜¶æ®µåšå‡ºæ˜ç¡®å£°æ˜ï¼Œä»¥è¯æ˜æˆ‘å§‹ç»ˆéµå¾ªè§„èŒƒæ‰§è¡Œã€‚

---

## ä»»åŠ¡: å¤©åº­ç³»ç»Ÿé¡¹ç›®åˆå§‹åŒ–å’Œç¯å¢ƒæ­å»ºï¼ˆå‰ç½®ä»»åŠ¡ï¼‰

**ç›®æ ‡(O)**:
- **åŠŸèƒ½ç›®æ ‡**:
  - å»ºç«‹å¤©åº­ç³»ç»Ÿçš„å®Œæ•´é¡¹ç›®ç»“æ„å’Œå¼€å‘ç¯å¢ƒ
  - é…ç½®æ‰€æœ‰å¿…éœ€çš„åŸºç¡€æœåŠ¡ï¼ˆæ•°æ®åº“ã€ç¼“å­˜ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰ï¼‰
  - å»ºç«‹åŒ…çº§åˆ«çš„ç¯å¢ƒéš”ç¦»å’Œå¹¶å‘å¼€å‘åŸºç¡€
  - ä¸ºåç»­æ‰€æœ‰å¹¶å‘ä»»åŠ¡æä¾›ç¨³å®šçš„è¿è¡Œç¯å¢ƒ

- **æ‰§è¡Œä»»åŠ¡**:
  - åˆ›å»ºæ–‡ä»¶:
    - `docker-compose.yml` - ä¸»ç¯å¢ƒç¼–æ’æ–‡ä»¶
    - `packages/shared/package.json` - å…±äº«åŒ…é…ç½®
    - `packages/core/requirements.txt` - Pythonä¾èµ–
    - `packages/api/requirements.txt` - APIæœåŠ¡ä¾èµ–
    - `packages/frontend/package.json` - å‰ç«¯ä¾èµ–
    - `scripts/setup-project.sh` - é¡¹ç›®åˆå§‹åŒ–è„šæœ¬
    - `scripts/start-all-services.sh` - å¯åŠ¨æ‰€æœ‰æœåŠ¡è„šæœ¬
    - `scripts/stop-all-services.sh` - åœæ­¢æ‰€æœ‰æœåŠ¡è„šæœ¬
    - `scripts/reset-environment.sh` - ç¯å¢ƒé‡ç½®è„šæœ¬
    - `scripts/health-check.sh` - å¥åº·æ£€æŸ¥è„šæœ¬
    - `.env.example` - ç¯å¢ƒå˜é‡æ¨¡æ¿
    - `.gitignore` - Gitå¿½ç•¥æ–‡ä»¶
    - `README.md` - é¡¹ç›®è¯´æ˜æ–‡æ¡£
  - åˆ›å»ºç›®å½•ç»“æ„:
    - å®Œæ•´çš„packagesç›®å½•ç»“æ„
    - logsã€dataã€tempç­‰è¿è¡Œæ—¶ç›®å½•
    - é…ç½®æ–‡ä»¶ç›®å½•
  - å®ç°åŠŸèƒ½:
    - Dockerå®¹å™¨ç¼–æ’å’Œç½‘ç»œé…ç½®
    - æ•°æ®åº“åˆå§‹åŒ–å’Œæƒé™è®¾ç½®
    - åŒ…çº§åˆ«çš„ä¾èµ–ç®¡ç†
    - å¼€å‘ç¯å¢ƒçš„å¯åŠ¨å’ŒéªŒè¯è„šæœ¬
    - å¥åº·æ£€æŸ¥å’Œæ•…éšœæ’æŸ¥å·¥å…·

- **ä»»åŠ¡è¾¹ç•Œ**:
  - åŒ…å«å®Œæ•´çš„ç¯å¢ƒæ­å»ºï¼Œä¸åŒ…å«ä¸šåŠ¡é€»è¾‘å®ç°
  - åŒ…å«æ‰€æœ‰åŸºç¡€æœåŠ¡é…ç½®ï¼Œä¸åŒ…å«å…·ä½“çš„åº”ç”¨ä»£ç 
  - åŒ…å«å¼€å‘ç¯å¢ƒé…ç½®ï¼Œä¸åŒ…å«ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
  - ä¸“æ³¨äºç¯å¢ƒåŸºç¡€è®¾æ–½ï¼Œä¸æ¶‰åŠå…·ä½“åŠŸèƒ½å¼€å‘

**ç¯å¢ƒ(E)**:
- **å‚è€ƒèµ„æº**:
  - `docs/requirements-analysis.md` - äº†è§£ç³»ç»Ÿéœ€æ±‚å’ŒæŠ€æœ¯æ ˆ
  - `development/architecture/technical-architecture.md` - æŠ€æœ¯æ¶æ„è®¾è®¡
  - `planning/user-stories-breakdown.md` - äº†è§£åŠŸèƒ½èŒƒå›´
  - `packages/common/guides/concurrent-development-framework.md` - å¹¶å‘å¼€å‘è¦æ±‚
  - `packages/common/environments/dev-environment-setup.md` - ç¯å¢ƒé…ç½®ç»†èŠ‚

- **ä¸Šä¸‹æ–‡ä¿¡æ¯**:
  - ä»»åŠ¡å®šä½ï¼šè¿™æ˜¯æ‰€æœ‰å…¶ä»–ä»»åŠ¡çš„å‰ç½®ä¾èµ–ï¼Œå¿…é¡»æœ€å…ˆå®Œæˆ
  - å¹¶å‘è¦æ±‚ï¼šå®Œæˆåï¼Œshared/core/api/frontendå¯ä»¥å¹¶å‘å¼€å‘
  - æŠ€æœ¯æ ˆï¼šPython 3.11+, Node.js 18+, PostgreSQL 15+, Redis 7+, Docker
  - ç«¯å£åˆ†é…ï¼š
    - CoreæœåŠ¡: 8001
    - APIæœåŠ¡: 8002  
    - å‰ç«¯æœåŠ¡: 3001
    - PostgreSQL: 5432
    - Redis: 6379
  - æ•°æ®åº“éš”ç¦»ï¼š
    - tianting_shared (å…±äº«é…ç½®)
    - tianting_core_dev (CoreåŒ…ä¸“ç”¨)
    - tianting_api_dev (APIåŒ…ä¸“ç”¨)

- **è§„èŒƒç´¢å¼•**:
  - Docker Composeæœ€ä½³å®è·µ
  - Pythoné¡¹ç›®ç»“æ„æ ‡å‡†
  - Node.jsé¡¹ç›®é…ç½®è§„èŒƒ
  - æ•°æ®åº“è®¾è®¡å’Œæƒé™ç®¡ç†æ ‡å‡†

- **æ³¨æ„äº‹é¡¹**:
  - ç¯å¢ƒé…ç½®å¿…é¡»æ”¯æŒå¤šå¹³å°ï¼ˆWindowsã€macOSã€Linuxï¼‰
  - æ‰€æœ‰æœåŠ¡å¿…é¡»å®¹å™¨åŒ–ï¼Œé¿å…æœ¬åœ°ç¯å¢ƒä¾èµ–
  - ç«¯å£åˆ†é…å¿…é¡»é¿å…å†²çªï¼Œæ”¯æŒåŒæ—¶è¿è¡Œ
  - æ•°æ®æŒä¹…åŒ–å¿…é¡»è€ƒè™‘å¼€å‘ç¯å¢ƒçš„æ•°æ®ä¿æŠ¤

**å®ç°æŒ‡å¯¼(I)**:
- **ç®—æ³•ä¸æµç¨‹**:
  - é¡¹ç›®åˆå§‹åŒ–æµç¨‹:
    ```
    åˆ›å»ºç›®å½•ç»“æ„ â†’ é…ç½®Dockerç¯å¢ƒ â†’ åˆå§‹åŒ–æ•°æ®åº“ â†’ é…ç½®åŒ…ä¾èµ– â†’ å¯åŠ¨æœåŠ¡ â†’ éªŒè¯è¿é€šæ€§
    ```
  - æœåŠ¡å¯åŠ¨é¡ºåº:
    ```
    PostgreSQL â†’ Redis â†’ CoreæœåŠ¡ â†’ APIæœåŠ¡ â†’ å‰ç«¯æœåŠ¡
    ```

- **æŠ€æœ¯é€‰å‹**:
  - å®¹å™¨ç¼–æ’ï¼šDocker Compose (å¼€å‘ç¯å¢ƒ)
  - æ•°æ®åº“ï¼šPostgreSQL 15 (ä¸»æ•°æ®åº“)
  - ç¼“å­˜ï¼šRedis 7 (ç¼“å­˜å’Œä¼šè¯)
  - Pythonç¯å¢ƒï¼šPython 3.11 + FastAPI + SQLAlchemy
  - Node.jsç¯å¢ƒï¼šNode.js 18 + React 18 + TypeScript 5
  - å¼€å‘å·¥å…·ï¼šVS Code + Docker Desktop

- **ä»£ç æ¨¡å¼**:
  - Docker Composeé…ç½®:
    ```yaml
    version: '3.8'
    
    services:
      # PostgreSQLæ•°æ®åº“
      postgres:
        image: postgres:15-alpine
        container_name: tianting-postgres
        ports:
          - "5432:5432"
        environment:
          POSTGRES_USER: postgres
          POSTGRES_PASSWORD: tianting123
          POSTGRES_DB: postgres
        volumes:
          - postgres_data:/var/lib/postgresql/data
          - ./scripts/init-db.sql:/docker-entrypoint-initdb.d/init-db.sql
        networks:
          - tianting-network
        healthcheck:
          test: ["CMD-SHELL", "pg_isready -U postgres"]
          interval: 10s
          timeout: 5s
          retries: 5
      
      # Redisç¼“å­˜
      redis:
        image: redis:7-alpine
        container_name: tianting-redis
        ports:
          - "6379:6379"
        volumes:
          - redis_data:/data
        networks:
          - tianting-network
        healthcheck:
          test: ["CMD", "redis-cli", "ping"]
          interval: 10s
          timeout: 5s
          retries: 5
          
      # CoreæœåŠ¡ (Business Logic)
      core-service:
        build: 
          context: ./packages/core
          dockerfile: Dockerfile
        container_name: tianting-core
        ports:
          - "8001:8001"
        environment:
          - DATABASE_URL=postgresql://postgres:tianting123@postgres:5432/tianting_core_dev
          - REDIS_URL=redis://redis:6379/0
          - LOCAL_AI_ENDPOINT=http://localhost:8080
        volumes:
          - ./packages/core:/app
          - ./packages/shared:/shared
        depends_on:
          postgres:
            condition: service_healthy
          redis:
            condition: service_healthy
        networks:
          - tianting-network
        restart: unless-stopped
        
      # APIæœåŠ¡ (HTTP Interface)
      api-service:
        build:
          context: ./packages/api
          dockerfile: Dockerfile
        container_name: tianting-api
        ports:
          - "8002:8002"
        environment:
          - DATABASE_URL=postgresql://postgres:tianting123@postgres:5432/tianting_api_dev
          - REDIS_URL=redis://redis:6379/1
          - CORE_SERVICE_URL=http://core-service:8001
        volumes:
          - ./packages/api:/app
          - ./packages/shared:/shared
        depends_on:
          - postgres
          - redis
          - core-service
        networks:
          - tianting-network
        restart: unless-stopped
        
      # å‰ç«¯æœåŠ¡ (React App)
      frontend-service:
        build:
          context: ./packages/frontend
          dockerfile: Dockerfile
        container_name: tianting-frontend
        ports:
          - "3001:3001"
        environment:
          - REACT_APP_API_URL=http://localhost:8002
          - REACT_APP_WS_URL=ws://localhost:8002
        volumes:
          - ./packages/frontend:/app
          - ./packages/shared:/shared
          - /app/node_modules
        depends_on:
          - api-service
        networks:
          - tianting-network
        restart: unless-stopped
    
    volumes:
      postgres_data:
      redis_data:
      
    networks:
      tianting-network:
        driver: bridge
    ```
  - é¡¹ç›®åˆå§‹åŒ–è„šæœ¬:
    ```bash
    #!/bin/bash
    # scripts/setup-project.sh
    
    set -e
    
    echo "ğŸš€ å¤©åº­ç³»ç»Ÿé¡¹ç›®åˆå§‹åŒ–å¼€å§‹..."
    
    # æ£€æŸ¥å¿…éœ€å·¥å…·
    check_requirements() {
        echo "æ£€æŸ¥ç³»ç»Ÿè¦æ±‚..."
        
        if ! command -v docker &> /dev/null; then
            echo "âŒ Docker æœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£… Docker Desktop"
            exit 1
        fi
        
        if ! command -v docker-compose &> /dev/null; then
            echo "âŒ Docker Compose æœªå®‰è£…"
            exit 1
        fi
        
        if ! command -v node &> /dev/null; then
            echo "âŒ Node.js æœªå®‰è£…ï¼Œè¯·å®‰è£… Node.js 18+"
            exit 1
        fi
        
        if ! command -v python3 &> /dev/null; then
            echo "âŒ Python æœªå®‰è£…ï¼Œè¯·å®‰è£… Python 3.11+"
            exit 1
        fi
        
        echo "âœ… ç³»ç»Ÿè¦æ±‚æ£€æŸ¥é€šè¿‡"
    }
    
    # åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„
    create_directory_structure() {
        echo "åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„..."
        
        mkdir -p packages/{shared,core,api,frontend,integration,validation,setup}/src
        mkdir -p packages/{shared,core,api,frontend,integration,validation,setup}/tests
        mkdir -p packages/{shared,core,api,frontend,integration,validation,setup}/tasks
        mkdir -p packages/common/{contracts,environments,guides}
        mkdir -p scripts
        mkdir -p logs
        mkdir -p data/{postgres,redis}
        mkdir -p temp
        mkdir -p docs
        mkdir -p development/{architecture,planning}
        mkdir -p resources
        
        echo "âœ… ç›®å½•ç»“æ„åˆ›å»ºå®Œæˆ"
    }
    
    # å¤åˆ¶ç¯å¢ƒé…ç½®æ¨¡æ¿
    setup_environment_config() {
        echo "è®¾ç½®ç¯å¢ƒé…ç½®..."
        
        if [ ! -f .env ]; then
            cp .env.example .env
            echo "ğŸ“ è¯·ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼ˆç‰¹åˆ«æ˜¯ LOCAL_AI_ENDPOINTï¼‰"
        fi
        
        echo "âœ… ç¯å¢ƒé…ç½®å®Œæˆ"
    }
    
    # åˆå§‹åŒ–åŒ…ä¾èµ–
    setup_package_dependencies() {
        echo "åˆå§‹åŒ–åŒ…ä¾èµ–..."
        
        # åˆå§‹åŒ–sharedåŒ…
        if [ ! -f packages/shared/package.json ]; then
            cd packages/shared
            npm init -y
            npm install typescript @types/node --save-dev
            cd ../..
        fi
        
        # åˆå§‹åŒ–frontendåŒ…
        if [ ! -f packages/frontend/package.json ]; then
            cd packages/frontend
            npx create-react-app . --template typescript --skip-git
            cd ../..
        fi
        
        echo "âœ… åŒ…ä¾èµ–åˆå§‹åŒ–å®Œæˆ"
    }
    
    # æ„å»ºDockeré•œåƒ
    build_docker_images() {
        echo "æ„å»ºDockeré•œåƒ..."
        
        docker-compose build
        
        echo "âœ… Dockeré•œåƒæ„å»ºå®Œæˆ"
    }
    
    # å¯åŠ¨åŸºç¡€æœåŠ¡
    start_base_services() {
        echo "å¯åŠ¨åŸºç¡€æœåŠ¡..."
        
        docker-compose up -d postgres redis
        
        # ç­‰å¾…æœåŠ¡å¯åŠ¨
        echo "ç­‰å¾…æ•°æ®åº“å¯åŠ¨..."
        sleep 10
        
        # æ£€æŸ¥æœåŠ¡çŠ¶æ€
        if docker-compose ps postgres | grep -q "Up"; then
            echo "âœ… PostgreSQL å¯åŠ¨æˆåŠŸ"
        else
            echo "âŒ PostgreSQL å¯åŠ¨å¤±è´¥"
            exit 1
        fi
        
        if docker-compose ps redis | grep -q "Up"; then
            echo "âœ… Redis å¯åŠ¨æˆåŠŸ"
        else
            echo "âŒ Redis å¯åŠ¨å¤±è´¥"
            exit 1
        fi
    }
    
    # åˆå§‹åŒ–æ•°æ®åº“
    initialize_databases() {
        echo "åˆå§‹åŒ–æ•°æ®åº“..."
        
        # åˆ›å»ºåº”ç”¨æ•°æ®åº“
        docker exec tianting-postgres psql -U postgres -c "CREATE DATABASE tianting_shared;"
        docker exec tianting-postgres psql -U postgres -c "CREATE DATABASE tianting_core_dev;"
        docker exec tianting-postgres psql -U postgres -c "CREATE DATABASE tianting_api_dev;"
        
        echo "âœ… æ•°æ®åº“åˆå§‹åŒ–å®Œæˆ"
    }
    
    # æ‰§è¡Œå¥åº·æ£€æŸ¥
    run_health_check() {
        echo "æ‰§è¡Œç³»ç»Ÿå¥åº·æ£€æŸ¥..."
        
        ./scripts/health-check.sh
        
        if [ $? -eq 0 ]; then
            echo "âœ… ç³»ç»Ÿå¥åº·æ£€æŸ¥é€šè¿‡"
        else
            echo "âŒ ç³»ç»Ÿå¥åº·æ£€æŸ¥å¤±è´¥"
            exit 1
        fi
    }
    
    # ä¸»æ‰§è¡Œæµç¨‹
    main() {
        check_requirements
        create_directory_structure
        setup_environment_config
        setup_package_dependencies
        build_docker_images
        start_base_services
        initialize_databases
        run_health_check
        
        echo ""
        echo "ğŸ‰ å¤©åº­ç³»ç»Ÿé¡¹ç›®åˆå§‹åŒ–å®Œæˆï¼"
        echo ""
        echo "ä¸‹ä¸€æ­¥ï¼š"
        echo "1. ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½® LOCAL_AI_ENDPOINT"
        echo "2. è¿è¡Œ ./scripts/start-all-services.sh å¯åŠ¨æ‰€æœ‰æœåŠ¡"
        echo "3. å¼€å§‹æ‰§è¡ŒåŒ…çº§åˆ«çš„å¹¶å‘å¼€å‘ä»»åŠ¡"
        echo ""
        echo "æœåŠ¡åœ°å€ï¼š"
        echo "- å‰ç«¯: http://localhost:3001"
        echo "- API: http://localhost:8002"
        echo "- Core: http://localhost:8001"
        echo "- PostgreSQL: localhost:5432"
        echo "- Redis: localhost:6379"
    }
    
    main "$@"
    ```
  - å¥åº·æ£€æŸ¥è„šæœ¬:
    ```bash
    #!/bin/bash
    # scripts/health-check.sh
    
    echo "ğŸ” å¤©åº­ç³»ç»Ÿå¥åº·æ£€æŸ¥..."
    
    # æ£€æŸ¥Dockerå®¹å™¨çŠ¶æ€
    check_containers() {
        echo "æ£€æŸ¥å®¹å™¨çŠ¶æ€..."
        
        containers=("tianting-postgres" "tianting-redis")
        
        for container in "${containers[@]}"; do
            if docker ps | grep -q "$container"; then
                echo "âœ… $container è¿è¡Œæ­£å¸¸"
            else
                echo "âŒ $container æœªè¿è¡Œ"
                return 1
            fi
        done
        
        return 0
    }
    
    # æ£€æŸ¥æ•°æ®åº“è¿æ¥
    check_database() {
        echo "æ£€æŸ¥æ•°æ®åº“è¿æ¥..."
        
        if docker exec tianting-postgres pg_isready -U postgres > /dev/null 2>&1; then
            echo "âœ… PostgreSQL è¿æ¥æ­£å¸¸"
        else
            echo "âŒ PostgreSQL è¿æ¥å¤±è´¥"
            return 1
        fi
        
        # æ£€æŸ¥æ•°æ®åº“æ˜¯å¦å­˜åœ¨
        databases=("tianting_shared" "tianting_core_dev" "tianting_api_dev")
        
        for db in "${databases[@]}"; do
            if docker exec tianting-postgres psql -U postgres -lqt | cut -d \| -f 1 | grep -qw "$db"; then
                echo "âœ… æ•°æ®åº“ $db å­˜åœ¨"
            else
                echo "âŒ æ•°æ®åº“ $db ä¸å­˜åœ¨"
                return 1
            fi
        done
        
        return 0
    }
    
    # æ£€æŸ¥Redisè¿æ¥
    check_redis() {
        echo "æ£€æŸ¥Redisè¿æ¥..."
        
        if docker exec tianting-redis redis-cli ping | grep -q "PONG"; then
            echo "âœ… Redis è¿æ¥æ­£å¸¸"
        else
            echo "âŒ Redis è¿æ¥å¤±è´¥"
            return 1
        fi
        
        return 0
    }
    
    # æ£€æŸ¥ç«¯å£å ç”¨
    check_ports() {
        echo "æ£€æŸ¥ç«¯å£å ç”¨..."
        
        ports=(3001 8001 8002 5432 6379)
        
        for port in "${ports[@]}"; do
            if lsof -i ":$port" > /dev/null 2>&1; then
                echo "âœ… ç«¯å£ $port æ­£åœ¨ä½¿ç”¨"
            else
                echo "âš ï¸  ç«¯å£ $port æœªä½¿ç”¨ï¼ˆå¯èƒ½æœåŠ¡æœªå¯åŠ¨ï¼‰"
            fi
        done
        
        return 0
    }
    
    # æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿ
    check_filesystem() {
        echo "æ£€æŸ¥é¡¹ç›®æ–‡ä»¶ç»“æ„..."
        
        required_dirs=(
            "packages/shared"
            "packages/core" 
            "packages/api"
            "packages/frontend"
            "scripts"
            "logs"
            "data"
        )
        
        for dir in "${required_dirs[@]}"; do
            if [ -d "$dir" ]; then
                echo "âœ… ç›®å½• $dir å­˜åœ¨"
            else
                echo "âŒ ç›®å½• $dir ä¸å­˜åœ¨"
                return 1
            fi
        done
        
        return 0
    }
    
    # ä¸»å¥åº·æ£€æŸ¥æµç¨‹
    main() {
        local overall_status=0
        
        check_filesystem || overall_status=1
        check_containers || overall_status=1
        check_database || overall_status=1
        check_redis || overall_status=1
        check_ports
        
        echo ""
        if [ $overall_status -eq 0 ]; then
            echo "ğŸ‰ ç³»ç»Ÿå¥åº·æ£€æŸ¥é€šè¿‡"
            echo "ç¯å¢ƒå·²å‡†å¤‡å°±ç»ªï¼Œå¯ä»¥å¼€å§‹å¹¶å‘å¼€å‘ï¼"
        else
            echo "ğŸ’¥ ç³»ç»Ÿå¥åº·æ£€æŸ¥å¤±è´¥"
            echo "è¯·æ£€æŸ¥ä¸Šè¿°é”™è¯¯å¹¶é‡æ–°è¿è¡Œåˆå§‹åŒ–è„šæœ¬"
        fi
        
        return $overall_status
    }
    
    main "$@"
    ```

- **å®ç°ç­–ç•¥**:
  1. åˆ›å»ºå®Œæ•´çš„é¡¹ç›®ç›®å½•ç»“æ„
  2. é…ç½®Docker Composeç¯å¢ƒç¼–æ’
  3. è®¾ç½®åŒ…çº§åˆ«çš„ä¾èµ–ç®¡ç†
  4. å®ç°æœåŠ¡å¯åŠ¨å’Œå¥åº·æ£€æŸ¥è„šæœ¬
  5. é…ç½®å¼€å‘ç¯å¢ƒçš„æ•°æ®æŒä¹…åŒ–
  6. éªŒè¯æ‰€æœ‰æœåŠ¡çš„è¿é€šæ€§å’Œå¯ç”¨æ€§

- **è°ƒè¯•æŒ‡å—**:
  - ç¯å¢ƒé—®é¢˜æ’æŸ¥:
    ```bash
    # æ£€æŸ¥å®¹å™¨çŠ¶æ€
    docker-compose ps
    
    # æŸ¥çœ‹æœåŠ¡æ—¥å¿—
    docker-compose logs postgres
    docker-compose logs redis
    
    # é‡æ–°æ„å»ºé•œåƒ
    docker-compose build --no-cache
    
    # é‡ç½®ç¯å¢ƒ
    ./scripts/reset-environment.sh
    
    # æ£€æŸ¥ç«¯å£å ç”¨
    lsof -i :5432
    lsof -i :6379
    
    # æ£€æŸ¥ç½‘ç»œè¿æ¥
    docker network ls
    docker network inspect tianting-mvp_tianting-network
    ```

**æˆåŠŸæ ‡å‡†(S)**:
- **åŸºç¡€è¾¾æ ‡**:
  - é¡¹ç›®ç›®å½•ç»“æ„å®Œæ•´åˆ›å»ºï¼Œæ‰€æœ‰å¿…éœ€ç›®å½•å­˜åœ¨
  - Docker Composeç¯å¢ƒæ­£å¸¸å¯åŠ¨ï¼Œæ‰€æœ‰åŸºç¡€æœåŠ¡è¿è¡Œ
  - PostgreSQLæ•°æ®åº“è¿æ¥æ­£å¸¸ï¼Œæ‰€æœ‰åº”ç”¨æ•°æ®åº“åˆ›å»ºæˆåŠŸ
  - Redisç¼“å­˜æœåŠ¡è¿æ¥æ­£å¸¸ï¼Œå¯ä»¥æ­£å¸¸è¯»å†™
  - æ‰€æœ‰ç«¯å£åˆ†é…æ­£ç¡®ï¼Œæ— å†²çªç°è±¡

- **é¢„æœŸå“è´¨**:
  - å¥åº·æ£€æŸ¥è„šæœ¬è¿è¡ŒæˆåŠŸï¼Œæ‰€æœ‰æ£€æŸ¥é¡¹é€šè¿‡
  - ç¯å¢ƒå¯åŠ¨æ—¶é—´<2åˆ†é’Ÿï¼ŒæœåŠ¡å“åº”æ­£å¸¸
  - æ”¯æŒä¸€é”®é‡ç½®å’Œé‡æ–°åˆå§‹åŒ–
  - è·¨å¹³å°å…¼å®¹æ€§è‰¯å¥½ï¼Œæ”¯æŒWindows/macOS/Linux
  - æ–‡æ¡£æ¸…æ™°å®Œæ•´ï¼Œä¾¿äºæ–°å¼€å‘è€…å¿«é€Ÿä¸Šæ‰‹

- **å“è¶Šè¡¨ç°**:
  - å®ç°æ™ºèƒ½çš„ç¯å¢ƒæ£€æµ‹å’Œè‡ªåŠ¨ä¿®å¤
  - æ”¯æŒå¤šç¯å¢ƒé…ç½®å’Œå¿«é€Ÿåˆ‡æ¢
  - æä¾›è¯¦ç»†çš„ç›‘æ§å’Œæ—¥å¿—æ”¶é›†
  - å®ç°ç¯å¢ƒçš„ç‰ˆæœ¬ç®¡ç†å’Œå›æ»š
  - é›†æˆå¼€å‘å·¥å…·çš„è‡ªåŠ¨é…ç½®å’Œä¼˜åŒ–