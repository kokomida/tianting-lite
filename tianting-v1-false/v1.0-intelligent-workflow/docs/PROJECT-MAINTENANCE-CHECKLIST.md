# 📋 天庭系统项目维护检查清单

## 🎯 用途
此清单确保项目维护过程中的文档一致性和架构完整性，防止重复出现设计错误。

---

## 🔍 文档一致性检查

### ✅ AI服务设计检查
- [ ] 确认所有文档中不包含外部Claude API调用设计
- [ ] 确认使用本地AI服务端点配置 (LOCAL_AI_ENDPOINT)
- [ ] 确认AI模型类型配置为 local_ai_model
- [ ] 确认无CLAUDE_API_KEY相关配置

**检查命令**:
```bash
grep -r "CLAUDE_API_KEY\|claude.*api\|api.*claude" --include="*.md" .
```
*期望结果: 无输出*

### ✅ 环境配置一致性
- [ ] .env.example 包含所有必要配置项
- [ ] docker-compose.yml 环境变量与.env.example对应
- [ ] 各包的环境配置文档与实际配置一致
- [ ] 端口分配无冲突 (Core:8001, API:8002, Frontend:3001)

### ✅ OES架构合规检查
- [ ] 所有任务文件包含完整的AI执行誓词
- [ ] 包间责任划分符合OES方法论
- [ ] 任务边界清晰，无重叠
- [ ] 依赖关系符合架构设计

---

## 📦 包状态验证

### ✅ Shared包 (TypeScript类型定义)
- [ ] 类型定义完整且最新
- [ ] 文档生成正常 (typedoc)
- [ ] 无类型错误
- [ ] 版本兼容性标记正确

### ✅ Core包 (业务逻辑)
- [ ] 本地AI集成实现正确
- [ ] 需求解析器功能完整
- [ ] 单元测试覆盖率≥80%
- [ ] 无外部API依赖

### ✅ API包 (HTTP服务)
- [ ] FastAPI框架配置正确
- [ ] 中间件功能正常
- [ ] API文档自动生成
- [ ] 健康检查端点可用

### ✅ Frontend包 (用户界面)
- [ ] React组件库完整
- [ ] 样式系统一致
- [ ] 组件测试通过
- [ ] 构建无错误

---

## 🚀 开发流程检查

### ✅ 新功能开发
- [ ] 遵循OES任务分解方法
- [ ] 创建对应的任务文件
- [ ] 包含完整的AI执行誓词
- [ ] 更新相关文档

### ✅ 文档更新
- [ ] 更新CURRENT-VERSION-STATUS.md
- [ ] 检查文档间引用的一致性
- [ ] 验证代码示例的正确性
- [ ] 更新API契约文档

### ✅ 环境变更
- [ ] 更新.env.example
- [ ] 同步docker-compose.yml
- [ ] 更新部署文档
- [ ] 验证健康检查脚本

---

## 🔧 故障排查

### ✅ 常见问题预防
- [ ] 端口冲突检查
- [ ] 数据库连接验证
- [ ] 服务依赖关系验证
- [ ] 日志配置正确

### ✅ 性能监控
- [ ] 关键指标监控设置
- [ ] 响应时间基准测试
- [ ] 内存使用监控
- [ ] 错误率跟踪

---

## 📈 项目状态维护

### ✅ 定期检查 (每周)
- [ ] 更新开发进度
- [ ] 检查风险项状态
- [ ] 验证里程碑进展
- [ ] 更新团队状态

### ✅ 重要变更后
- [ ] 运行完整的健康检查
- [ ] 更新架构文档
- [ ] 验证所有测试通过
- [ ] 更新部署指南

---

## 🚨 错误模式预防

### ❌ 避免的设计错误
- 不要引入外部API依赖 (Claude API等)
- 不要硬编码配置值
- 不要跳过AI执行誓词
- 不要违反包边界设计

### ✅ 推荐的最佳实践
- 使用本地AI服务
- 环境变量配置管理
- 完整的任务文件规范
- 严格的OES架构遵循

---

## 📞 维护支持

### 联系方式
- **技术问题**: 查看 docs/TROUBLESHOOTING.md
- **架构问题**: 参考 development/architecture/
- **OES问题**: 查看 OES-EXECUTION-GUIDE.md

### 紧急处理
如发现严重的架构设计错误：
1. 立即停止相关开发
2. 创建问题报告
3. 按本清单验证修复
4. 更新相关文档

---

**🎯 记住：保持项目的整洁和一致性是确保长期成功的关键！**