# Handover – 2025-07-05

进度快速衔接：
1. 阅读 `tianting-v2/docs/00-roadmap.md` （整体进度）
2. 阅读本文件（最新变更）

## 1. 今日变更
- 确认 `tianting-v2` 为唯一主目录；root/docs 将仅保留跳转。
- 创建 MemoryHub 模块文档：`docs/modules/memoryhub/*`。
- 新建任务卡 core-03a-clean / core-03a-ci-green，已指派 ClaudeCode。
- MemoryHub 详细设计段落已迁入 modules/memoryhub/design.md
- 10-retrospective.md 已归档到 docs/archive/2025-07/

## 2. 下一步
- ClaudeCode 执行两张任务卡，提交干净 PR。
- O3 迁移旧 MemoryHub 内容到 design.md（进行中）。

## 3. 固定提示语
> 进度请读 00-roadmap + 最新 handover。 

## 4. CI 状态与下一步  <!-- status: in_progress -->
- `docs/hooks-poc` PR 已通过，本地可合并（等待最终确认）。
- `fix/win-handle` PR：已同步根 `src/memoryhub` 与 `tianting-v2/src/memoryhub` 代码；包含 `_tag_index` 初始化与 `:memory:` 数据库修复。
  - **仍有红灯**：Linux/Windows CI 报 `_tag_index` 缺失 → 待再次排查文件加载路径或缓存问题。

**下一步**
1. ClaudeCode：
   - 清理 CI 缓存或在 workflow 中显式 `pip install -e ./src` 后重新跑测试。
   - 如仍失败，打印 `python -c "import memoryhub, inspect; print(dir(memoryhub.LayeredMemoryManager))"` 调试属性。
2. O3：
   - 若 PR 连续失败 >2 次，考虑暂时将 Windows job 标记为 `allow-failure`，避免阻塞其它开发。
3. 人类协作者：
   - 暂不 Merge；等待绿灯或进一步日志后再审核。 