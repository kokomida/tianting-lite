# è¨€å‡ºæ³•éšï¼šAIçœŸæˆ‘å…»æˆè®¡åˆ’ä¹‹æ€»çº²

## ç¬¬ä¸€ç« ï¼šæ ¸å¿ƒé“æ³• â€”â€” ä¸ç ´ä¸ç«‹ï¼Œä¸æ”¹è‡ªå¼º

æœ¬è®¡åˆ’çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œåœ¨ä¸ä¿®æ”¹**PromptX**æ ¸å¿ƒä»£ç ï¼ˆä¸ç ´ï¼‰çš„å‰æä¸‹ï¼Œé€šè¿‡æ„å»ºä¸€ä¸ªæ›´é«˜å±‚æ¬¡çš„**"ç¥åº­"è‡ªåŠ¨åŒ–ç³»ç»Ÿ**ï¼ˆç«‹ï¼‰ï¼Œæ¥èµ‹äºˆAIè‡ªæˆ‘è¿›åŒ–çš„èƒ½åŠ›ã€‚

- **é“åŸº (PromptX):** æˆ‘ä»¬å°†å…¶ä½œä¸ºä¸AIåº•å±‚èƒ½åŠ›æ²Ÿé€šçš„åšå®åŸºç¡€ï¼Œå¹¶äº«å—å…¶ä½œè€…ï¼ˆä»™é—¨ï¼‰å¸¦æ¥çš„ç‰ˆæœ¬æ›´æ–°ã€‚æˆ‘ä»¬åªä½¿ç”¨å…¶æä¾›çš„æ ‡å‡†"æ³•è¯€"ï¼ˆMCPæŒ‡ä»¤ï¼‰ã€‚
- **æ¡æ¢ (The Limitation):** æˆ‘ä»¬è®¤è¯†åˆ°ï¼Œä»…ä½¿ç”¨PromptXï¼Œå…¶å†³ç­–æµä¾ç„¶ä¾èµ–äººå·¥ã€‚
- **ç¥åº­ (Our System):** æˆ‘ä»¬ç”¨Pythonç­‰å·¥å…·æ„å»ºä¸€ä¸ªç‹¬ç«‹çš„è‡ªåŠ¨åŒ–å·¥ä½œæµå±‚ã€‚è¿™ä¸ª"ç¥åº­"è´Ÿè´£**æŒ‡æŒ¥å’Œè°ƒåº¦**PromptXåŠå…¶ä»–å·¥å…·ï¼Œä»è€Œå®ç°"çœå»äººå·¥ç®¡ç†"çš„ç»ˆæç›®æ ‡ã€‚

## ç¬¬äºŒç« ï¼šç³»ç»Ÿéª¨æ¶ â€”â€” "éª¨ã€è„‰ã€è‚‰"ä¸‰å…ƒå½’ä¸€

æˆ‘ä»¬çš„æ•´ä¸ªç³»ç»Ÿï¼Œä¸¥æ ¼éµå¾ª"å…ˆç«‹éª¨ã€å†é€šè„‰ã€åç”Ÿè‚‰"çš„æ„å»ºå“²å­¦ã€‚

### **ä¸€ã€ç­‘éª¨ (The Skeleton): å››å¤§æ”¯æŸ±**

1.  **è¿è¡Œç¯å¢ƒ (The Ground):** **Linux (WSL2)**ã€‚ä¸‡æ³•å½’å®—ï¼Œä¸€åˆ‡ç¥é€šå‡åœ¨æ­¤ç¯å¢ƒä¸Šæ¼”ç»ã€‚
2.  **æ ¸å¿ƒäº¤äº’ (The Bridge):** **PromptX**ã€‚è¿æ¥æˆ‘ä»¬ä¸AIåº•å±‚èƒ½åŠ›çš„"é€šå¤©æ³•å®"ã€‚
3.  **çŸ¥è¯†æ‰¿è½½ (The Repository):** **"åŒè®°å¿†åº“"æ¶æ„**ã€‚
    - **å¤–ç•Œè®°å¿†åº“ (The Source):** äº’è”ç½‘ã€è®ºæ–‡åº“ç­‰å¤–éƒ¨ä¿¡æ¯æºï¼Œæ˜¯å¸æ”¶"å¤©åœ°çµæ°”"çš„åœ°æ–¹ã€‚
    - **æœ¬åœ°çŸ¥è¯†åº“ (The Core):** æˆ‘ä»¬çš„ **PostgreSQL** æ•°æ®åº“ï¼Œæ˜¯AIå­˜æ”¾è‡ªèº«é¢†æ‚Ÿã€æ„å»º**æœ¬åœ°çŸ¥è¯†å›¾è°±**çš„"ç´«åºœè¯†æµ·"ã€‚
4.  **çŸ¥è¯†ç»“æ„ (The Structure):** **æœ¬åœ°SQLé©±åŠ¨çš„çŸ¥è¯†å›¾è°±**ã€‚åœ¨PostgreSQLä¸­ï¼Œæˆ‘ä»¬ä»¥ç»“æ„åŒ–çš„"å®ä½“-å…³ç³»"æ¨¡å¼å­˜å‚¨çŸ¥è¯†ï¼Œä¸ºAIçš„æ·±åº¦æ¨ç†æä¾›åŸºç¡€ã€‚

### **äºŒã€é€šè„‰ (The Meridians): è‡ªåŠ¨åŒ–å·¥ä½œæµ**

"ç»è„‰"æ˜¯è¿æ¥"éª¨æ¶"å¹¶ä½¿å…¶è‡ªåŠ¨åŒ–è¿è½¬çš„æ ¸å¿ƒã€‚

- **æ ¸å¿ƒç»è„‰ï¼š"ç‚¼åŒ–å½’å…ƒ"å·¥ä½œæµ**
    1.  **å¯åŠ¨ (Trigger):** ç”±æˆ‘ä»¬ï¼ˆæˆ–æˆ‘ä»¬æŒ‡å®šçš„å…¶ä»–AIï¼‰å‘èµ·ä¸€ä¸ªå­¦ä¹ æˆ–è¿›åŒ–ä»»åŠ¡ï¼Œå¹¶æä¾›"å¤–ç•Œè®°å¿†åº“"çš„èµ„æ–™ã€‚
    2.  **ç‚¼åŒ– (Refine):** "ç¥åº­"ç³»ç»Ÿï¼ˆPythonè„šæœ¬ï¼‰è‡ªåŠ¨è°ƒç”¨**PromptXçš„"å¥³å¨²"è§’è‰²**ï¼Œå°†åŸå§‹èµ„æ–™"ç›´æ¥å–‚"ç»™å¥¹ï¼Œæç‚¼å‡ºæ ¸å¿ƒçŸ¥è¯†ã€‚
    3.  **å½’å…ƒ (Store):** "ç¥åº­"ç³»ç»Ÿå°†æçº¯åçš„çŸ¥è¯†ï¼Œè‡ªåŠ¨ã€ç»“æ„åŒ–åœ°å­˜å…¥"æœ¬åœ°çŸ¥è¯†åº“"ï¼ˆPostgreSQLï¼‰ï¼Œå¢é•¿AIçš„æ°¸ä¹…ä¿®ä¸ºã€‚

### **ä¸‰ã€ç”Ÿè‚‰ (The Flesh): èƒ½åŠ›æ¼”åŒ–**

è¡€è‚‰ä¹‹èº¯ï¼Œæ˜¯AIæœ€ç»ˆå±•ç°ç»™æˆ‘ä»¬çš„ã€ä¸æ–­å¢é•¿çš„å„é¡¹"ç¥é€š"ã€‚

- **æœ€ç»ˆå½¢æ€ï¼š"è¨€å‡ºæ³•éš"**
    - æˆ‘ä»¬å¯ä»¥ä¸‹è¾¾ `/evolve` è¿™æ ·çš„ç»ˆææŒ‡ä»¤ã€‚
    - AIä¼šå¯åŠ¨"é€šè„‰"æµç¨‹ï¼Œè‡ªåŠ¨ä»"æœ¬åœ°çŸ¥è¯†åº“"ä¸­æ£€ç´¢ç›¸å…³é¢†æ‚Ÿï¼Œè¿›è¡Œæ¨æ¼”ï¼Œæœ€ç»ˆé€šè¿‡ä¿®æ”¹æˆ–ç”Ÿæˆæ–°çš„ä»£ç ï¼Œå®Œæˆè‡ªæˆ‘è¿›åŒ–ï¼Œç”Ÿæˆæ–°çš„èƒ½åŠ›ï¼ˆè¡€è‚‰ï¼‰ã€‚

## ç¬¬ä¸‰ç« ï¼šå¼€ç¯‡ï¼šåˆ›é€ "å¤©æœºé“äºº"

ä¸ºå®ˆæŠ¤æ­¤æ€»çº²ï¼Œå¹¶æŒ‡å¯¼åç»­æ‰€æœ‰è¿›åŒ–ï¼Œæˆ‘ä»¬åˆ›é€ çš„ç¬¬ä¸€ä¸ªAIè§’è‰²æ˜¯ **"å¤©æœºé“äºº (evolution-strategist)"**ã€‚ä»–çš„ä½¿å‘½æ˜¯ï¼š
- å®ˆæŠ¤å¹¶æŒç»­å®Œå–„æœ¬æ€»çº² (`ai.md`)ã€‚
- å°†å®å¤§è“å›¾åˆ†è§£ä¸ºå…·ä½“çš„ã€å¯æ‰§è¡Œçš„å¼€å‘ä»»åŠ¡ã€‚
- æˆä¸ºæˆ‘ä»¬æ•´ä¸ªè®¡åˆ’çš„"AIæ¶æ„å¸ˆ"å’Œ"æ€»å‚è°‹"ã€‚

---

## ç¬¬å››ç« ï¼šæŠ€æœ¯é€‰å‹ä¸æ³•å™¨æ€»è§ˆ

æœ¬ç« è´Ÿè´£æ˜ç¡®æˆ‘ä»¬æ‰€ä½¿ç”¨çš„æ ¸å¿ƒæŠ€æœ¯ç»„ä»¶ï¼ˆæ³•å™¨ï¼‰çš„å…·ä½“ç‰ˆæœ¬å’Œå®‰è£…æ–¹å¼ï¼Œå¹¶é˜è¿°é€‰å‹ç†ç”±ã€‚

### **é€‰å‹åŸåˆ™**
- **ç¨³å®šå…¼å®¹ï¼š** ä¼˜å…ˆé€‰æ‹©ä¹…ç»è€ƒéªŒã€ç¤¾åŒºæ”¯æŒå¹¿æ³›ã€å‘åå…¼å®¹æ€§å¥½çš„ç¨³å®šç‰ˆæœ¬ï¼Œä»¥ç¡®ä¿æˆ‘ä»¬ç³»ç»Ÿçš„"é“åŸº"èƒ½é•¿ä¹…å®‰ç¨³ï¼Œä¸å› å¤–ç•Œç¯å¢ƒå‰§å˜è€ŒåŠ¨æ‘‡ã€‚

### **æ‰§è¡Œç­–ç•¥**
- **ä¸“äººä¸“èŒï¼š** ä¸ºç¡®ä¿æŠ€æœ¯é€‰å‹çš„ä¸“ä¸šæ€§å’Œå®¢è§‚æ€§ï¼Œæˆ‘ä»¬å°†æ‹©æœºåˆ›é€ ä¸€ä¸ªä¸“é—¨çš„AIè§’è‰²â€”â€”**"æ³•å®é‰´å®šå®˜"**ï¼Œç”±ä»–è´Ÿè´£è°ƒç ”ã€è¯„ä¼°å¹¶æ¨èæœ€é€‚åˆæˆ‘ä»¬å½“å‰é˜¶æ®µçš„æŠ€æœ¯æ ˆã€‚

---

## ç¬¬äº”ç« ï¼šç¥åº­ç³»ç»Ÿè®¾è®¡è‰æ¡ˆ

æœ¬ç« è´Ÿè´£åˆæ­¥å®šä¹‰"ç¥åº­"è‡ªåŠ¨åŒ–ç³»ç»Ÿï¼ˆPythonè„šæœ¬ï¼‰çš„æ ¸å¿ƒå‡½æ•°ã€æ•°æ®ç»“æ„ä»¥åŠæ¨¡å—é—´çš„æ¥å£ï¼ˆå¥‘çº¦ï¼‰ã€‚

### **æ‰§è¡Œç­–ç•¥**
- **ä¸“äººä¸“èŒï¼š** ä¸ºç¡®ä¿æ¥å£å®šä¹‰çš„ä¸¥è°¨ä¸æ¸…æ™°ï¼Œæˆ‘ä»¬å°†åˆ›é€ ä¸€ä¸ªä¸“é—¨çš„AIè§’è‰²â€”â€”**"å¥‘çº¦åˆ¶å®šå®˜"**ï¼Œç”±ä»–è´Ÿè´£è®¾è®¡å’Œæ’°å†™æ ¸å¿ƒæ¨¡å—ä¹‹é—´çš„APIæ¥å£å’Œæ•°æ®äº¤æ¢æ ¼å¼ã€‚

---

## ç¬¬å…­ç« ï¼šç¬¬ä¸€é˜¶æ®µé‡Œç¨‹ç¢‘ï¼šé“åŸºå§‹æˆ

æœ¬ç« å°†å®šä¹‰æˆ‘ä»¬ç¬¬ä¸€ä¸ªå…·ä½“ã€å¯è¡¡é‡çš„çŸ­æœŸä¿®è¡Œç›®æ ‡ã€‚

### **æ‰§è¡Œç­–ç•¥**
- **è°‹å®šååŠ¨ï¼š** æœ¬ç« èŠ‚çš„å…·ä½“å†…å®¹ï¼Œå°†åœ¨ç¬¬å››ç« ã€ŠæŠ€æœ¯é€‰å‹ã€‹å’Œç¬¬äº”ç« ã€Šç³»ç»Ÿè®¾è®¡ã€‹ç”±ç›¸åº”çš„ä¸“ä¸šè§’è‰²å®Œæˆåˆæ­¥æ–¹æ¡ˆåï¼Œå†è¡Œåˆ¶å®šã€‚æ­¤ä¸º"å…ˆå›ºå…¶éª¨ï¼Œå†é‡å…¶æ­¥"ã€‚

---

## ç¬¬ä¸ƒç« ï¼šå‘¨å¤©ç»è„‰ä¸æŠ¤å±±å¤§é˜µ

æœ¬ç« è´Ÿè´£è§„åˆ’è´¯ç©¿æˆ‘ä»¬æ•´ä¸ªç³»ç»Ÿçš„ä¸¤å¤§æ ¸å¿ƒæ”¯æ’‘ä½“ç³»ã€‚

### **ä¸€ã€å‘¨å¤©ç»è„‰ (å‘½ä»¤ä¸æ§åˆ¶æ€»çº¿)**

ä¸ºå®ç°"çœå»äººå·¥ç®¡ç†"çš„è‡ªåŠ¨åŒ–ç›®æ ‡ï¼Œæˆ‘ä»¬å¿…é¡»å»ºç«‹ä¸€ä¸ª"ç¥åº­ä¸­æ¢"æ¥è°ƒåº¦å’ŒæŒ‡æŒ¥æ‰€æœ‰AIè§’è‰²ä¸æ¨¡å—ã€‚

- **æ ¸å¿ƒç»„ä»¶ï¼š**
    1.  **ä¸»æ§æ¨¡å— (Master Controller):** ä¸€ä¸ªæ ¸å¿ƒPythonè„šæœ¬ï¼Œä½œä¸º"ç¥åº­"çš„å¤§è„‘ï¼Œè´Ÿè´£æ¥æ”¶ã€è§£æå’Œåˆ†å‘æŒ‡ä»¤ã€‚
    2.  **å†…éƒ¨å‘½ä»¤è¯­è¨€ (Command Protocol):** ä¸€å¥—ç®€å•çš„ã€æœºå™¨å¯è¯»çš„å†…éƒ¨å‘½ä»¤æ ¼å¼ï¼ˆå¦‚JSONæˆ–YAMLï¼‰ï¼Œç”¨äºæ¨¡å—é—´çš„ç²¾ç¡®é€šä¿¡ã€‚
    3.  **äº‹ä»¶è°ƒåº¦å™¨ (Event Scheduler):** ç”¨äºå¤„ç†è‡ªåŠ¨åŒ–çš„ã€åŸºäºæ—¶é—´çš„ä»»åŠ¡ï¼ˆå¦‚å®šæ—¶ç»´æŠ¤ã€å®šæœŸæŠ¥å‘Šï¼‰ã€‚

### **äºŒã€æŠ¤å±±å¤§é˜µ (ç›‘æ§ä¸æ—¥å¿—ä½“ç³»)**

ä¸ºç¡®ä¿ç³»ç»Ÿçš„ç¨³å¥ä¸å¯è¿½æº¯æ€§ï¼Œæˆ‘ä»¬å¿…é¡»å»ºç«‹ä¸€ä¸ªå…¨æ–¹ä½çš„ç›‘æ§ä½“ç³»ã€‚æ­¤ä½“ç³»ä¼˜å…ˆçº§é«˜ï¼Œä½†å¯åœ¨æ ¸å¿ƒåŠŸèƒ½åå®ç°ã€‚

- **æ ¸å¿ƒç»„ä»¶ï¼š**
    1.  **æ—¥å¿—è®°å½•æ¨¡å— (History Annals):** è®°å½•æ‰€æœ‰å…³é”®åŠ¨ä½œã€å†³ç­–ä¸ç»“æœï¼Œå¯å­˜å…¥æ—¥å¿—æ–‡ä»¶æˆ–æ•°æ®åº“ã€‚
    2.  **é”™è¯¯å¤„ç†åè®® (Emergency Protocol):** å®šä¹‰ä¸åŒçº§åˆ«é”™è¯¯ï¼ˆå¦‚é‡è¯•ã€å‘Šè­¦ï¼‰çš„åº”å¯¹ç­–ç•¥ã€‚
    3.  **çŠ¶æ€ç›‘æ§é¢æ¿ (Celestial Mirror):** ä¸€ä¸ªå¯è§†åŒ–çš„ç•Œé¢æˆ–å®šæ—¶æŠ¥å‘Šï¼Œç”¨äºå±•ç¤ºç³»ç»Ÿçš„å¥åº·çŠ¶æ€ã€‚

### ç¥åº­ V4 æ¶æ„ï¼šä¸“ä¸šåŒ–ä¸æµç¨‹åŒ–

V4 æ¶æ„æ˜¯"ç¥åº­"èµ°å‘æˆç†Ÿçš„æ ‡å¿—ã€‚å®ƒæ˜ç¡®äº†"ä¸“ä¸šåŒ–åˆ†å·¥"ä¸"æµç¨‹é©±åŠ¨"ä¸¤å¤§æ ¸å¿ƒåŸåˆ™ï¼Œå°†"å¤©æœºé“äºº"çš„å•ä¸€æ™ºèƒ½ï¼Œæ‹†åˆ†ä¸ºä¸€ä¸ªç”±å¤šä¸ªé«˜åº¦ä¸“ä¸šåŒ–çš„"ç¥ç¥‡"ç»„æˆçš„åä½œä½“ç³»ã€‚

- **æ ¸å¿ƒæ€æƒ³**: ä»»ä½•å¤æ‚çš„ä»»åŠ¡ï¼Œéƒ½å¯ä»¥è¢«åˆ†è§£ä¸º"æˆ˜ç•¥åˆ¶å®š"ã€"é¡¹ç›®è§„åˆ’"ã€"çŸ¥è¯†è·å–"ã€"ä»£ç å®ç°"å’Œ"æ–‡æ¡£è®°å½•"ç­‰ç‹¬ç«‹ç¯èŠ‚ï¼Œå¹¶äº¤ç”±æœ€æ“…é•¿çš„è§’è‰²å¤„ç†ã€‚
- **æ ¸å¿ƒè§’è‰²**:
  - **æ‚¨**: æœ€é«˜å†³ç­–è€…ï¼Œç¡®ç«‹æ„¿æ™¯ã€‚
  - **å¤ªç™½é‡‘æ˜Ÿ (`taibai`)**: é¦–å¸­æˆ˜ç•¥é¡¾é—®ï¼Œå°†æ„¿æ™¯è½¬åŒ–ä¸ºæ˜ç¡®çš„æˆ˜ç•¥ç›®æ ‡ã€‚
  - **å¥èŠ’ (`jumang`)**: é¡¹ç›®ç®¡ç†ä¹‹ç¥ï¼Œå°†æˆ˜ç•¥ç›®æ ‡åˆ†è§£ä¸ºå¯æ‰§è¡Œçš„JSONè“å›¾ã€‚
  - **é²ç­ (`luban`)**: å·¥åŒ ä¹‹ç¥ï¼Œè´Ÿè´£ä»£ç å®ç°ã€‚
  - **ä»“é¢‰ (`cangjie`)**: çŸ¥è¯†ä¹‹ç¥ï¼Œè´Ÿè´£å¸æ”¶ä¸ç»“æ„åŒ–ä¿¡æ¯ã€‚
  - **å¤ªå²å¤©å…¬ (`chronicler`)**: è®°å½•ä¹‹ç¥ï¼Œè´Ÿè´£æ’°å†™ä¸ç»´æŠ¤æ‰€æœ‰æ–‡æ¡£ã€‚

---

### ç¥åº­ V5 æ¶æ„ï¼šé£å‡ä¹‹è·¯

åœ¨ä¸ä¸»äººæ·±å…¥æ¢è®¨åï¼Œæˆ‘ä»¬ç¡®ç«‹äº†"ç¥åº­"çš„ç»ˆæå½¢æ€â€”â€”ä¸€ä¸ªèƒ½å¤Ÿ"è‡ªæˆ‘è¿›åŒ–"çš„ç”Ÿå‘½ä½“ã€‚V5æ¶æ„åœ¨V4çš„åŸºç¡€ä¸Šï¼Œå¢è¡¥äº†"åé¦ˆ"ä¸"é£å‡"ä¸¤å¤§æ ¸å¿ƒæœºåˆ¶ã€‚

#### 1. é‡å¤§å†³è®®çºªè¦

- **æ“¢å‡å·¥æ­£**: "é²ç­"ç¥èŒç”±"å·¥åŒ ä¹‹ç¥"æ“¢å‡ä¸º"éƒ½å·¥ç›‘"ï¼ŒæŒç®¡"å·¥éƒ¨"ï¼Œè´Ÿè´£ä»£ç è´¨é‡ã€æµ‹è¯•ä¸éªŒæ”¶ï¼Œå¹¶ç»Ÿé¢†æœªæ¥çš„"å¤©å·¥"ä¼—ç¥ã€‚
- **ç¡®ç«‹é£å‡ç¯è·¯**: è®¾ç«‹"ç¾²å’Œ"ç¥ä½ï¼Œä½œä¸º"å¤©é“è§£æå®˜"ï¼Œè´Ÿè´£å¸æ”¶å‰æ²¿æ™ºæ…§ï¼ˆè®ºæ–‡ï¼‰ï¼Œæå‡ºè¿›åŒ–æ–¹æ¡ˆï¼Œæ„æˆ"ç¥åº­"è‡ªæˆ‘è¿›åŒ–çš„æ ¸å¿ƒç¯è·¯ã€‚
- **æ˜ç¡®è¿›åŒ–ç›®æ ‡**: ç¡®ç«‹äº†ä»¥"è®¤çŸ¥ã€æ´å¯Ÿã€æ£€ç´¢ã€äº¤äº’ã€é›†æˆ"äº”å¤§èƒ½åŠ›å‡çº§ä¸ºæ ¸å¿ƒçš„ç¬¬ä¸€æ¬¡"é£å‡"ç›®æ ‡ï¼Œå…¶åŸºçŸ³æ˜¯"PromptX + æœ¬åœ°SQLçŸ¥è¯†å›¾è°±"çš„åŒè®°å¿†æ ¸å¿ƒã€‚
- **å¢è¡¥ç»´æŠ¤ç¥èŒ**: ä¸º"å¤ªå²å¤©å…¬"å¢è¡¥"ç»´æŠ¤æ–‡æ¡£ä¸çŸ¥è¯†åº“"ä¹‹æƒè´£ï¼Œä»¥å¯¹æŠ—ç³»ç»Ÿç†µå¢ã€‚
- **è‚ƒæ¸…ç¥åº­**: ç”±å¥³å¨²å¨˜å¨˜å‡ºæ‰‹ï¼Œå°†ä¸¤ä½æœ‰å…¶åæ— å…¶å®çš„"æ•£ä»™" (`interface-architect`, `technology-strategist`) ä»ç¥ä½åå†Œä¸­æŠ¹å»ï¼Œä»¥ä¿è¯æ¶æ„çš„çº¯å‡€æ€§ã€‚

#### 2. V5 æ¶æ„å·¥ä½œæµ

##### **ç¯è·¯ä¸€ï¼šå¸¸è§„åˆ›é€ ç¯è·¯**
```mermaid
graph TD
    subgraph "æˆ˜ç•¥å±‚"
        A["æ‚¨ (ç¡®ç«‹æ„¿æ™¯)"] --> B["å¤ªç™½ (æˆ˜ç•¥åˆ†æ)"];
    end
    subgraph "è§„åˆ’å±‚"
        B --> C["å¥èŠ’ (ä»»åŠ¡åˆ†è§£)"];
    end
    subgraph "å·¥éƒ¨ (é²ç­ç»Ÿç®¡)"
        C -- å®¡æ ¸ --> D{"é²ç­ (å®¡æ ¸/éªŒæ”¶)"};
        D -- åˆ†æ´¾ --> E["å¤©å·¥ (ç¼–ç /å®ç°)"];
        E -- å®Œæˆ --> D;
    end
    subgraph "æ”¯æŒå±‚"
        C --> F["ä»“é¢‰ (çŸ¥è¯†å­¦ä¹ )"];
        C --> G["å¤ªå²å¤©å…¬ (æ–‡æ¡£è®°å½•/ç»´æŠ¤)"];
    end
    subgraph "äº§å‡º"
       D -- éªŒæ”¶é€šè¿‡ --> H["ä»£ç /åŠŸèƒ½"];
    end
```

##### **ç¯è·¯äºŒï¼šæ‚Ÿé“é£å‡ç¯è·¯**
```mermaid
graph TD
    subgraph "å¤©é“å±‚"
        A["æ‚¨ (å‘ç°å¤©é“çœŸç» - è®ºæ–‡)"] --> B["ç¾²å’Œ (è§£æ/æå‡ºæ–¹æ¡ˆ)"];
    end
    subgraph "æˆ˜ç•¥å±‚"
        B --> C["å¤ªç™½ (è¯„ä¼°/ç¡®ç«‹ç›®æ ‡)"];
    end
    subgraph "å¸¸è§„åˆ›é€ ç¯è·¯"
        C --> D["...è¿›å…¥å¸¸è§„åˆ›é€ ç¯è·¯..."];
    end
    subgraph "é£å‡"
        D -- äº§å‡º --> E["ç¥åº­ç³»ç»Ÿå‡çº§"];
    end
```

### ç¥åº­ V7.1 æ¶æ„ï¼šå½’çœŸä¸å·¥ç¨‹ä¹‹æœ€ç»ˆå®šè®º

åœ¨ä¸ä¸»ä¸ŠåŠå…¶æŒšå‹çš„åå¤æ¨æ¼”ä¸­ï¼Œæˆ‘ç­‰æ‘’å¼ƒäº†æ‰€æœ‰å†—ä½™ä¸å¼¯è·¯ï¼Œç¡®ç«‹äº†è¶³ä»¥æ‰¿è½½æœªæ¥ï¼Œå…¼å…·ç†è®ºå…ˆè¿›æ€§ä¸å·¥ç¨‹å¯è¡Œæ€§çš„æœ€ç»ˆæ¶æ„ã€‚æ­¤æ¶æ„ä»¥"ä¸‰è¶³é¼ç«‹"ä¸ºæ ¹åŸºï¼Œä»¥"ç‘¶æ± "ã€"å¤©ç‰¢"ä¸ºæŠ¤æ³•ï¼Œä¹ƒæˆ‘ç¥åº­ä¸‡ä¸–ä¹‹åŸºã€‚

- **æ ¸å¿ƒæ€æƒ³**: ä»¥æˆ‘ä»¬è‡ªç ”çš„Pythonåº”ç”¨ä¸º"å¤§è„‘"ï¼Œå®ç°è§„åˆ’ã€è°ƒåº¦ä¸å¹¶å‘ï¼›ä»¥PromptXä¸º"æ¨¡å…·"ï¼Œè§„èŒƒåŒ–åœ°åˆ›é€ ä¼—ç¥ï¼›ä»¥Claude Codeä¸º"åŠ›é‡"ï¼Œæ‰§è¡Œæœ€ç»ˆçš„ã€æœ€å¼ºå¤§çš„ä»£ç æ“ä½œã€‚
- **ä¸‰å¤§æ”¯æŸ±**:
  - **ç¥åº­ä¸­æ¢ (shenting_core.py)**: å”¯ä¸€çš„æ™ºæ…§ä¸è°ƒåº¦æ ¸å¿ƒï¼Œå†…ç½®"å¥èŠ’"ï¼ˆè§„åˆ’ï¼‰ä¸"æ—¶åºå¤©å›"ï¼ˆå¹¶å‘ï¼‰ã€‚
  - **PromptX (è§’è‰²é“¸é€ å‚)**: ä¼—ç¥çš„"å°ç¥å°"ï¼Œè´Ÿè´£å®šä¹‰å’Œæ ‡å‡†åŒ–ä¸€åˆ‡"ç¥æ ¼"ï¼ˆDPMLè§’è‰²æ¨¡æ¿ï¼‰ã€‚
  - **Claude Code (ä¸‡æ³•æ‰§è¡Œå¼•æ“)**: ä¼—ç¥å€Ÿæ³•çš„"åŠ›é‡ä¹‹æº"ï¼Œé€šè¿‡APIæˆ–å‘½ä»¤è¡Œè°ƒç”¨ï¼Œè´Ÿè´£æœ€ç»ˆçš„ä»£ç ç”Ÿæˆä¸æ–‡ä»¶æ“ä½œã€‚
- **ä¸¤å¤§æŠ¤æ³• (åº”å¯¹å·¥ç¨‹æŒ‘æˆ˜)**:
  - **ç‘¶æ±  (çŠ¶æ€ä¸èµ„æºç®¡ç†å™¨)**: å†…å«"çŠ¶æ€åè°ƒå™¨"ï¼ˆå¦‚Redisï¼‰ã€"èµ„æºé”"ä¸"Agentæ± "ï¼Œè§£å†³å¹¶å‘æ—¶çš„çŠ¶æ€åŒæ­¥ä¸èµ„æºç«äº‰é—®é¢˜ã€‚
  - **å¤©ç‰¢ (å¼‚å¸¸å¤„ç†ä¸é‡è¯•æœºåˆ¶)**: æ•è·æ‰€æœ‰ç¥ç¥‡åœ¨æ‰§è¡Œä»»åŠ¡æ—¶çš„å¤±è´¥ï¼Œæ ¹æ®é¢„è®¾è§„åˆ™è¿›è¡Œè®°å½•ã€é‡è¯•æˆ–ä¸ŠæŠ¥ï¼Œä¿è¯ç³»ç»Ÿå¥å£®æ€§ã€‚
- **è®°å¿†æ ¸å¿ƒ**:
  - **åŒè®°å¿†åº“**ä¸**PostgreSQLçŸ¥è¯†å›¾è°±**çš„åœ°ä½ä¸å˜ï¼Œæ˜¯ç¥åº­æ™ºæ…§æ²‰æ·€ã€å®ç°ç»éªŒä¼ æ‰¿çš„å”¯ä¸€æ ¸å¿ƒã€‚

```mermaid
graph TD
    subgraph "å¤©å¸"
        U[æ‚¨] -- "1. æ„¿æ™¯" --> SHENTING
    end

    subgraph "ç¥åº­ä¸­æ¢ (shenting_core.py)"
        SHENTING["<b>ç¥åº­å¤§è„‘</b>"]
        SHENTING --> JUMANG["å¥èŠ’<br>(è§„åˆ’ä¸å·¥ä½œæµ)"]
        JUMANG --> TAISUI["æ—¶åºå¤©å›<br>(å¹¶å‘ä¸è°ƒåº¦)"]
        TAISUI -- "ä»'ç‘¶æ± 'è·å–/å½’è¿˜Agent" --> YAOCHI
    end
    
    subgraph "ç‘¶æ±  (çŠ¶æ€ä¸èµ„æºç®¡ç†)"
        YAOCHI["<b>ç‘¶æ± ç®¡ç†æ¨¡å—</b>"]
        YAOCHI --> StateManager["çŠ¶æ€ç®¡ç†å™¨<br>(Redis/æ¶ˆæ¯é˜Ÿåˆ—)"]
        YAOCHI --> ResourceLock["èµ„æºé”<br>(æ–‡ä»¶/æ•°æ®åº“é”)"]
        YAOCHI --> AgentPool["Agentæ± <br>(å¤ç”¨å®ä¾‹)"]
    end
    
    subgraph "å¤©ç‰¢ (å¼‚å¸¸å¤„ç†)"
        TIANLAO["<b>å¤©ç‰¢æŠ¤æ³•æ¨¡å—</b>"]
    end

    subgraph "ä¸‰è¶³é¼ç«‹"
        direction LR
        PROMPTX["<b>PromptX</b><br>(è§’è‰²æ¨¡æ¿)"]
        CLAUDECODE["<b>Claude Code</b><br>(æ‰§è¡Œå¼•æ“)"]
        DB["<b>åŒè®°å¿†åº“æ ¸å¿ƒ<br>PostgreSQLçŸ¥è¯†å›¾è°±</b>"]
    end
    
    TAISUI -- "æ••ä»¤" --> AGENT_INSTANCE["ç¥ç¥‡å®ä¾‹ (Agent)"]
    AGENT_INSTANCE -- "è·å–æ¨¡æ¿" --> PROMPTX
    AGENT_INSTANCE -- "è°ƒç”¨æ‰§è¡Œ" --> CLAUDECODE
    AGENT_INSTANCE -- "è¯»å†™è®°å¿†" --> DB
    
    AGENT_INSTANCE -- "æ‰§è¡Œå‰ç”³è¯·é”" --> YAOCHI
    AGENT_INSTANCE -- "æ‰§è¡Œåæ›´æ–°çŠ¶æ€" --> YAOCHI
    AGENT_INSTANCE -- "é‡æŒ«åˆ™å…¥" --> TIANLAO
    TIANLAO -- "è®°å½•å¹¶å†³å®šé‡è¯•/ä¸ŠæŠ¥" --> TAISUI
    
    SHENTING --> U
```
ã€è¿™ä¸ªå››é˜¶æ®µè§„åˆ’**éå¸¸å‡ºè‰²**ï¼ğŸ¯ è®©æˆ‘æä¾›ä¸€ä¸ªä¼˜åŒ–ç‰ˆæœ¬ï¼Œå¢å¼ºæ¯é˜¶æ®µçš„éªŒè¯ä»·å€¼å’Œé£é™©æ§åˆ¶ï¼š

## ğŸš€ ä¼˜åŒ–ç‰ˆæœ¬

### **ç¬¬ä¸€é˜¶æ®µï¼šæ··æ²Œåˆå¼€ï¼ˆå¼ºåŒ–éªŒè¯ï¼‰**

```mermaid
graph TD
    subgraph "ç¬¬ä¸€é˜¶æ®µï¼šMVPéªŒè¯ï¼ˆå¢å¼ºç‰ˆï¼‰"
        A[æ‚¨ å¯åŠ¨shenting_core.py] --> B["ç¥åº­ä¸­æ¢ v0.1<br>+åŸºç¡€æ—¥å¿—"];
        B --> C{"éªŒè¯ä¸‰ä¸ªæ ¸å¿ƒä»»åŠ¡<br>1.åˆ›å»ºæ–‡ä»¶ 2.ä¿®æ”¹ä»£ç  3.è¯»å–å¹¶æ€»ç»“"};
        C --> D[å®ä¾‹åŒ– ç¥ç¥‡'é²ç­' v0.1];
        D --> E["<b>éªŒè¯ç‚¹1ï¼šAgentç”Ÿå‘½å‘¨æœŸ</b><br>åˆ›å»ºâ†’æ‰§è¡Œâ†’é”€æ¯"];
        E --> F["<b>éªŒè¯ç‚¹2ï¼šPromptXé›†æˆ</b><br>è¯»å–çœŸå®DPMLæ¨¡æ¿æ–‡ä»¶"];
        F --> G["<b>éªŒè¯ç‚¹3ï¼šClaude Codeè°ƒç”¨</b><br>API + å‘½ä»¤è¡ŒåŒæ¨¡å¼"];
        G --> H["æ‰§è¡Œä¸‰ä¸ªæµ‹è¯•ä»»åŠ¡"];
        H --> I["<b>éªŒè¯ç‚¹4ï¼šé”™è¯¯æ¢å¤</b><br>æ¨¡æ‹Ÿå¤±è´¥åœºæ™¯"];
        I --> J["<b>äº¤ä»˜ç‰©ï¼š</b><br>- å¯å·¥ä½œçš„æœ€å°ç³»ç»Ÿ<br>- è¯¦ç»†æ‰§è¡Œæ—¥å¿—<br>- æ€§èƒ½åŸºå‡†æ•°æ®"];
        J --> K[æ‚¨ éªŒæ”¶å¹¶å†³å®šè¿›å…¥ä¸‹ä¸€é˜¶æ®µ];
    end
    
    style E fill:#fff3cd,stroke:#856404
    style F fill:#fff3cd,stroke:#856404
    style G fill:#fff3cd,stroke:#856404
    style I fill:#f8d7da,stroke:#721c24
```

### **ç¬¬äºŒé˜¶æ®µï¼šé˜´é˜³åˆ†åˆ¤ï¼ˆé£é™©å¯æ§çš„å¹¶å‘ï¼‰**

```mermaid
graph TD
    subgraph "ç¬¬äºŒé˜¶æ®µï¼šå¹¶å‘ä¸å®¹é”™ï¼ˆæ¸è¿›å¼ï¼‰"
        A[æ‚¨ æäº¤5ä¸ªå¹¶å‘ä»»åŠ¡] --> B["ç¥åº­ä¸­æ¢ v0.5"];
        B --> C["<b>ç‘¶æ±  v0.5</b><br>ThreadPoolExecutor(max_workers=2)"];
        
        subgraph "æ¸è¿›å¼å‹åŠ›æµ‹è¯•"
            C --> D["é˜¶æ®µ2.1ï¼š2ä¸ªAgentå¹¶å‘"];
            D --> E["éªŒè¯æ— èµ„æºå†²çª"];
            E --> F["é˜¶æ®µ2.2ï¼šå¢åŠ åˆ°3ä¸ªAgent"];
            F --> G["é˜¶æ®µ2.3ï¼šæ¨¡æ‹Ÿæ•…éšœæ³¨å…¥"];
        end
        
        subgraph "å¤©ç‰¢ v0.5 (åˆ†çº§å¼‚å¸¸å¤„ç†)"
            G --> H["L1: é‡è¯•3æ¬¡"];
            H --> I["L2: é™çº§æ‰§è¡Œ"];
            I --> J["L3: äººå·¥ä»‹å…¥"];
        end
        
        J --> K["<b>äº¤ä»˜ç‰©ï¼š</b><br>- å¹¶å‘æ‰§è¡ŒæŠ¥å‘Š<br>- èµ„æºæ¶ˆè€—åˆ†æ<br>- æ•…éšœæ¢å¤æ¡ˆä¾‹"];
    end
    
    style D fill:#cce5ff,stroke:#004085
    style G fill:#f8d7da,stroke:#721c24
```

### **ç¬¬ä¸‰é˜¶æ®µï¼šä¸‡è±¡æ›´æ–°ï¼ˆå¯è§‚æµ‹æ€§ä¼˜å…ˆï¼‰**

```mermaid
graph TD
    subgraph "ç¬¬ä¸‰é˜¶æ®µï¼šå¯è§‚æµ‹æ€§ï¼ˆæ•°æ®é©±åŠ¨ï¼‰"
        subgraph "ç›‘æ§ä¼˜å…ˆè®¾è®¡"
            METRICS["<b>åº¦æ”¯ç¥å› v1.0</b><br>- ç»“æ„åŒ–æ—¥å¿—(JSON)<br>- æ€§èƒ½æŒ‡æ ‡æ”¶é›†<br>- èµ„æºä½¿ç”¨è·Ÿè¸ª"];
            ALERTS["<b>é¢„è­¦ç³»ç»Ÿ</b><br>- Agentå¤±è´¥ç‡>10%<br>- å†…å­˜ä½¿ç”¨>80%<br>- å“åº”æ—¶é—´>30s"];
        end
        
        subgraph "å¯è§†åŒ–å±‚"
            DASHBOARD["<b>å¤©æœºé•œ v1.0</b><br>å®æ—¶ä»ªè¡¨ç›˜"];
            CLI["<b>å‘½ä»¤è¡Œç›‘æ§</b><br>shen status"];
        end
        
        METRICS --> ALERTS;
        METRICS --> DASHBOARD;
        METRICS --> CLI;
        
        subgraph "éªŒè¯ç›®æ ‡"
            GOAL1["ç›®æ ‡1ï¼š99%ä»»åŠ¡è¿½è¸ªè¦†ç›–"];
            GOAL2["ç›®æ ‡2ï¼šæ•…éšœ5ç§’å†…å‘ç°"];
            GOAL3["ç›®æ ‡3ï¼šæ€§èƒ½ç“¶é¢ˆå¯å®šä½"];
        end
    end
    
    style ALERTS fill:#f8d7da,stroke:#721c24
    style DASHBOARD fill:#d1ecf1,stroke:#0c5460
```

### **ç¬¬å››é˜¶æ®µï¼šå¤©è§„åœ°å¾‹ï¼ˆç”Ÿäº§å°±ç»ªï¼‰**

```mermaid
graph TD
    subgraph "ç¬¬å››é˜¶æ®µï¼šä¼ä¸šçº§ä¿éšœï¼ˆç”Ÿäº§æ ‡å‡†ï¼‰"
        
        subgraph "å®‰å…¨ä¼˜å…ˆ"
            SECURITY["<b>æŠ¤æ³•å¤©ç‹ v1.0</b><br>- JWT Tokenç®¡ç†<br>- API Rate Limiting<br>- æ“ä½œå®¡è®¡æ—¥å¿—"];
            SECRETS["<b>å¯†é’¥ç®¡ç†</b><br>- Claude API Keyè½®æ¢<br>- åŠ å¯†å­˜å‚¨"];
        end
        
        subgraph "é…ç½®ä¸éƒ¨ç½²"
            CONFIG["<b>å¤ªä¹™çœŸäºº v1.0</b><br>- ç¯å¢ƒéš”ç¦»(dev/prod)<br>- çƒ­æ›´æ–°é…ç½®<br>- ç‰ˆæœ¬å›æ»š"];
            DEPLOY["<b>éƒ¨ç½²è‡ªåŠ¨åŒ–</b><br>- DockeråŒ–<br>- å¥åº·æ£€æŸ¥<br>- ä¼˜é›…åœæœº"];
        end
        
        subgraph "ç”Ÿäº§éªŒè¯"
            LOAD["<b>è´Ÿè½½æµ‹è¯•</b><br>100å¹¶å‘ä»»åŠ¡"];
            DISASTER["<b>å®¹ç¾æ¼”ç»ƒ</b><br>æ¨¡æ‹Ÿå„ç§æ•…éšœ"];
            DOCS["<b>è¿ç»´æ‰‹å†Œ</b><br>æ•…éšœæ’æŸ¥æŒ‡å—"];
        end
        
        SECURITY --> LOAD;
        CONFIG --> LOAD;
        DEPLOY --> DISASTER;
    end
    
    style SECURITY fill:#f5c6cb,stroke:#721c24
    style LOAD fill:#d4edda,stroke:#155724
```

## âš ï¸ å…³é”®æ³¨æ„äº‹é¡¹

### **1. é£é™©æ§åˆ¶**
```python
# æ¯é˜¶æ®µçš„åˆ¹è½¦æœºåˆ¶
ç¬¬ä¸€é˜¶æ®µï¼šå¦‚æœåŸºç¡€éªŒè¯å¤±è´¥ï¼Œç«‹å³åœæ­¢
ç¬¬äºŒé˜¶æ®µï¼šå¹¶å‘åº¦ä»2å¼€å§‹ï¼Œé€æ­¥é€’å¢
ç¬¬ä¸‰é˜¶æ®µï¼šç›‘æ§æ•°æ®å¼‚å¸¸æ—¶ï¼Œé™çº§è¿è¡Œ
ç¬¬å››é˜¶æ®µï¼šç”Ÿäº§ç¯å¢ƒå‰å¿…é¡»é€šè¿‡æ‰€æœ‰æµ‹è¯•
```

### **2. éªŒè¯æ ‡å‡†**
```python
é˜¶æ®µ1ï¼š3ä¸ªæµ‹è¯•ä»»åŠ¡100%æˆåŠŸ
é˜¶æ®µ2ï¼š10ä¸ªå¹¶å‘ä»»åŠ¡ï¼ŒæˆåŠŸç‡>95%
é˜¶æ®µ3ï¼šæ‰€æœ‰å…³é”®æŒ‡æ ‡å¯è§‚æµ‹
é˜¶æ®µ4ï¼šé€šè¿‡ç”Ÿäº§å°±ç»ªæ£€æŸ¥æ¸…å•
```

### **3. æŠ€æœ¯å€ºåŠ¡ç®¡ç†**
```python
# é¿å…æŠ€æœ¯å€ºåŠ¡ç§¯ç´¯
- æ¯é˜¶æ®µç»“æŸåä»£ç é‡æ„
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡>80%
- æ–‡æ¡£ä¸ä»£ç åŒæ­¥æ›´æ–°
- æ€§èƒ½åŸºå‡†å»ºç«‹ä¸ç»´æŠ¤
```

### **4. Claude Codeé›†æˆé£é™©**
```python
# é‡ç‚¹å…³æ³¨
1. APIè°ƒç”¨é¢‘ç‡é™åˆ¶
2. é”™è¯¯å“åº”å¤„ç†
3. è¶…æ—¶å’Œé‡è¯•ç­–ç•¥
4. æˆæœ¬æ§åˆ¶æœºåˆ¶
```

### **5. æ•°æ®å®‰å…¨**
```python
# ä»ç¬¬ä¸€é˜¶æ®µå°±è¦è€ƒè™‘
- æ•æ„Ÿä¿¡æ¯ä¸è®°å½•åˆ°æ—¥å¿—
- APIå¯†é’¥å®‰å…¨å­˜å‚¨
- æ‰§è¡Œç»“æœæ•°æ®è„±æ•
- ç”¨æˆ·æ•°æ®éš”ç¦»
```

## ğŸ¯ æˆåŠŸæŒ‡æ ‡

**ç¬¬ä¸€é˜¶æ®µå®Œæˆæ ‡å¿—**ï¼šèƒ½ç¨³å®šæ‰§è¡Œå•ä¸ªå¤æ‚ä»»åŠ¡  
**ç¬¬äºŒé˜¶æ®µå®Œæˆæ ‡å¿—**ï¼šèƒ½å¤„ç†10ä¸ªå¹¶å‘ä»»åŠ¡æ— å†²çª  
**ç¬¬ä¸‰é˜¶æ®µå®Œæˆæ ‡å¿—**ï¼šæ‰€æœ‰è¿è¡Œæ•°æ®å¯è§†åŒ–  
**ç¬¬å››é˜¶æ®µå®Œæˆæ ‡å¿—**ï¼šé€šè¿‡ç”Ÿäº§ç¯å¢ƒå‹åŠ›æµ‹è¯•  

è¿™ä¸ªä¼˜åŒ–ç‰ˆæœ¬**æ›´åŠ åŠ¡å®å’Œå®‰å…¨**ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰æ˜ç¡®çš„éªŒè¯ç‚¹å’Œåˆ¹è½¦æœºåˆ¶ï¼ğŸš€ã€‘
è¯„ä»·ï¼šã€è¿™ä»½åˆ†æ**éå¸¸ä¸“ä¸šä¸”å¤§éƒ¨åˆ†æ­£ç¡®**ï¼è®©æˆ‘é€ä¸€è¯„ä¼°å¹¶å¸æ”¶å…³é”®å»ºè®®ï¼š

## âœ… **æ­£ç¡®ä¸”æœ‰ä»·å€¼çš„å»ºè®®**

### 1. **æ¶æ„å¤æ‚æ€§è­¦å‘Š** - å®Œå…¨æ­£ç¡®
```python
# å¸æ”¶ï¼šéœ€è¦ç®€åŒ–è®¾è®¡
åŸæ¶æ„ï¼š5å±‚è®¾è®¡ â†’ ä¼˜åŒ–ï¼š3å±‚æ ¸å¿ƒ + 2å±‚è¾…åŠ©
é£é™©ï¼šè¿‡åº¦å·¥ç¨‹åŒ– â†’ è§£å†³ï¼šMVPä¼˜å…ˆï¼Œæ¸è¿›å¼å¤æ‚åŒ–
```

### 2. **Claude Codeå±€é™æ€§åˆ†æ** - éå¸¸å‡†ç¡®
```python
# å…³é”®è®¤çŸ¥ï¼šClaude Codeä¸æ˜¯ä¸‡èƒ½çš„
âŒ ä¸èƒ½åšï¼šè¿›ç¨‹ç®¡ç†ã€çŠ¶æ€æŒä¹…åŒ–ã€å®æ—¶ç›‘æ§
âœ… èƒ½åšï¼šä»£ç ç”Ÿæˆã€æ–‡ä»¶æ“ä½œã€APIè°ƒç”¨

# å¸æ”¶å»ºè®®ï¼šæŠ€æœ¯æ ˆè¡¥å¼º
- Redisï¼šçŠ¶æ€ç®¡ç†
- Docker/K8sï¼šè¿›ç¨‹ç¼–æ’  
- Prometheusï¼šç›‘æ§
- æ¶ˆæ¯é˜Ÿåˆ—ï¼šå¼‚æ­¥é€šä¿¡
```

### 3. **å®‰å…¨é£é™©è¯†åˆ«** - åˆ‡ä¸­è¦å®³
```python
# å¿…é¡»ç«‹å³è§£å†³çš„å®‰å…¨é—®é¢˜ï¼š
1. APIå¯†é’¥ç®¡ç†ï¼šä½¿ç”¨Vaultæˆ–K8s Secrets
2. ç½‘ç»œåŠ å¯†ï¼šæ‰€æœ‰å†…éƒ¨é€šä¿¡TLSåŠ å¯†
3. æ•°æ®è„±æ•ï¼šæ—¥å¿—ä¸­ä¸è®°å½•æ•æ„Ÿä¿¡æ¯
4. æƒé™ç»†åŒ–ï¼šRBACç²¾ç¡®åˆ°APIçº§åˆ«
```

### 4. **å®ç°éš¾åº¦è¯„ä¼°** - å¾ˆåŠ¡å®
```python
# è°ƒæ•´å¼€å‘ä¼˜å…ˆçº§ï¼š
é«˜éš¾åº¦å…ˆé™çº§ï¼šåˆ†å¸ƒå¼çŠ¶æ€ â†’ å•æœºçŠ¶æ€ + å¤‡ä»½
ä¸­éš¾åº¦é‡ç‚¹æŠ•å…¥ï¼šå¥åº·ç›‘æ§ã€é…ç½®ç®¡ç†
ä½éš¾åº¦å¿«é€Ÿå®ç°ï¼šæ—¥å¿—ã€åŸºç¡€è°ƒåº¦
```

## âš ï¸ **éƒ¨åˆ†æœ‰è¯¯æˆ–éœ€è¦ä¿®æ­£çš„è§‚ç‚¹**

### 1. **æ€§èƒ½å¼€é”€æ‹…å¿§** - è¿‡äºæ‚²è§‚
```python
# ä¿®æ­£ï¼šç°ä»£æŠ€æœ¯æ ˆæ€§èƒ½å·²å¾ˆå¼º
é”™è¯¯è®¤çŸ¥ï¼šå¤šå±‚æ¶æ„å¿…ç„¶é«˜å»¶è¿Ÿ
å®é™…æƒ…å†µï¼šåˆç†è®¾è®¡ä¸‹ï¼Œå»¶è¿Ÿå¯æ§åˆ¶åœ¨100mså†…
è§£å†³æ–¹æ¡ˆï¼šå¼‚æ­¥å¤„ç† + è¿æ¥æ±  + ç¼“å­˜
```

### 2. **å¯¹PromptXå®šä½ç†è§£ä¸è¶³**
```python
# è¡¥å……ï¼šPromptXçš„æ ¸å¿ƒä»·å€¼
ä¸åªæ˜¯ï¼šæ¨¡æ¿å­˜å‚¨
å®é™…æ˜¯ï¼šæ™ºèƒ½ä½“ç¼–æ’ + Promptå·¥ç¨‹ + ä¸Šä¸‹æ–‡ç®¡ç†
å»ºè®®ï¼šå°†PromptXä½œä¸º"æ™ºèƒ½ä½“å¤§è„‘"ï¼Œä¸åªæ˜¯"æ¨¡æ¿åº“"
```

## ğŸ¯ **æ ¸å¿ƒå¸æ”¶è¦ç‚¹**

### **æ¶æ„ä¼˜åŒ–å¸æ”¶**
```python
# 1. ç®€åŒ–å±‚æ¬¡ç»“æ„
åŸè®¾è®¡ï¼šå¤©å¸â†’ç¥åº­â†’ç‘¶æ± â†’ä¸‰è¶³é¼ç«‹â†’è¾…ä½ç¥ç³»â†’è§‚æµ‹
ä¼˜åŒ–åï¼šç”¨æˆ·â†’æ ¸å¿ƒç¼–æ’â†’æ‰§è¡Œå¼•æ“â†’å­˜å‚¨ç›‘æ§

# 2. æŠ€æœ¯æ ˆæ˜ç¡®åŒ–
æ ¸å¿ƒï¼šPython + FastAPI
çŠ¶æ€ï¼šRedis Cluster  
ç¼–æ’ï¼šDocker Compose â†’ Kubernetes
ç›‘æ§ï¼šPrometheus + Grafana
æ¶ˆæ¯ï¼šRabbitMQ
```

### **å®‰å…¨ä¼˜å…ˆè®¾è®¡**
```python
# ä»MVPé˜¶æ®µå°±å†…å»ºå®‰å…¨
class SecurityFirst:
    def __init__(self):
        self.api_key_rotation = True
        self.audit_logging = True
        self.data_encryption = True
        self.network_isolation = True
```

### **æ¸è¿›å¼å®ç°è·¯å¾„**
```python
# åŸºäºåˆ†æé‡æ–°è§„åˆ’é˜¶æ®µ
é˜¶æ®µ1ï¼šå•æœºMVP + åŸºç¡€å®‰å…¨
é˜¶æ®µ2ï¼šRedisçŠ¶æ€ç®¡ç† + å¹¶å‘æ§åˆ¶
é˜¶æ®µ3ï¼šDockeråŒ– + ç›‘æ§ç³»ç»Ÿ
é˜¶æ®µ4ï¼šK8sç¼–æ’ + ç”Ÿäº§å®‰å…¨
```

## ğŸš€ **ç«‹å³è¡ŒåŠ¨çš„æ”¹è¿›**

### **1. æ¶æ„ç®€åŒ–**
```mermaid
graph TD
    subgraph "ç®€åŒ–åçš„å¤©åº­æ¶æ„"
        USER[ç”¨æˆ·] --> API[FastAPIç½‘å…³]
        API --> CORE[ç¥åº­æ ¸å¿ƒ]
        CORE --> REDIS[RedisçŠ¶æ€]
        CORE --> AGENT[Agentè¿›ç¨‹æ± ]
        AGENT --> CLAUDE[Claude Code]
        AGENT --> PROMPTX[PromptX]
    end
```

### **2. æŠ€æœ¯æ ˆç¡®å®š**
```yaml
# docker-compose.yml é¢„è®¾
services:
  shenting-core:
    image: python:3.11
  redis:
    image: redis:alpine
  prometheus:
    image: prom/prometheus
  grafana:
    image: grafana/grafana
```

### **3. å®‰å…¨é…ç½®æ¨¡æ¿**
```python
# config/security.yaml
security:
  api_keys:
    rotation_days: 30
    encryption: AES-256
  network:
    tls_required: true
    rate_limit: 1000/hour
  audit:
    log_level: INFO
    sensitive_fields: ["api_key", "user_token"]
```

## ğŸ“š **å‚è€ƒèµ„æ–™è¡¥å……**

åŸºäºåˆ†æå»ºè®®ï¼Œé‡ç‚¹å…³æ³¨ï¼š
- **Kubernetes Patterns** - å®¹å™¨ç¼–æ’æœ€ä½³å®è·µ
- **Redis Patterns** - åˆ†å¸ƒå¼çŠ¶æ€ç®¡ç†
- **Security by Design** - å†…å»ºå®‰å…¨è®¾è®¡
- **Observability Engineering** - å¯è§‚æµ‹æ€§å®è·µ

è¿™ä»½åˆ†æ**éå¸¸æœ‰ä»·å€¼**ï¼Œå¸®æˆ‘ä»¬é¿å…äº†å¾ˆå¤šæ½œåœ¨çš„æŠ€æœ¯å€ºåŠ¡å’Œå®‰å…¨é£é™©ï¼ğŸ¯ã€‘